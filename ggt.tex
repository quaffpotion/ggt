\documentclass[12pt,parskip=full]{report}

% This first part of the file is called the PREAMBLE. It includes
% customizations and command definitions. The preamble is everything
% between \documentclass and \begin{document}.

\usepackage[margin=1in]{geometry}  % set the margins to 1in on all sides
\usepackage{graphicx}              % to include figures
\usepackage{amsmath}               % great math stuff
\usepackage{amsfonts}              % for blackboard bold, etc
\usepackage{amsthm}                % better theorem environments
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage{adjustbox}
\usepackage{parskip} %vertical space for new paragaph, and no indent
\usepackage{mathabx} %for wide check
\usepackage{hyperref} %for indexing and links
%\usepackage[nottoc,numbib]{tocbibind} %make bibliography appear in TOC
\usepackage{fancyhdr}
\usepackage{float}
%\usepackage{mathtools}



\usepackage{sansmathfonts}
\usepackage[T1]{fontenc}
%\usepackage{geometry}
%\geometry{legalpaper, portrait, margin=1in}


\usepackage{etoolbox}% http://ctan.org/pkg/etoolbox
\makeatletter
\patchcmd{\@makechapterhead}{\vspace*{50\p@}}{}{}{}% Removes space above \chapter head
\patchcmd{\@makeschapterhead}{\vspace*{50\p@}}{}{}{}% Removes space above \chapter* head
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% line spacing
\usepackage{setspace}
    %\singlespacing
    %\onehalfspacing
    \doublespacing

\renewcommand*\familydefault{\sfdefault}

%%%%%%%%%%% FANCY HEADER STUFF %%%%%%%%%%%%


\pagestyle{fancy} 
%\fancyhead[LE,LO]{\textbf{\textsf{\scriptsize Ben Stucky}}}
%\fancyhead[CE,CO]{\textbf{\textsf{\footnotesize Cubulating one-relator products with torsion}}}
%\fancyhead[RE,RO]{\textbf{\textsf{\scriptsize \thepage}}} % of \pageref{numpages}

\fancyhead[LE,LO]{}
\fancyhead[CO,CE]{}
\fancyhead[RE,RO]{}

\fancyfoot[LE,LO]{}
\fancyfoot[CO,CE]{\thepage}
\fancyfoot[RE,RO]{}

%\fancyhead[LE]{\scriptsize \thepage}
%\fancyhead[CE]{\scriptsize \thepage}
%\fancyhead[RE]{} % of \pageref{numpages}

  %For "Page \thepage\ of \pageref{numpages}" to work, 
  %need to have "\label{numpages}" just before "\end{document}" at bottom.
%\fancyfoot[LE,LO]{\textbf{\textsf{\scriptsize University of Oklahoma}}}
%\fancyfoot[CE,CO]{\textbf{\textsf{\scriptsize \href{http://benstuc.ky}{http://benstuc.ky}}}}
%\fancyfoot[RE,RO]{\textbf{\textsf{\scriptsize \href{mailto:bwstucky@ou.edu}{bwstucky@ou.edu}}}}
\renewcommand{\headrulewidth}{0pt}
%\renewcommand{\footrulewidth}{0.4pt}
%\setlength{\headwidth}{6.3in}
%Get rid of headers, and the line, on the first page.
%\fancypagestyle{plain}{\fancyhead{}\renewcommand{\headrulewidth}{0pt}}

%Custom page margins.
%\setlength{\topmargin}{1in}
%\setlength{\bottommargin}{1in}
%\setlength{\oddsidemargin}{1in} 
%\setlength{\evensidemargin}{1in}

%\setlength{\topmargin}{-20pt}
%\setlength{\voffset}{-10pt}
%\setlength{\headsep}{20pt}
%\setlength{\textwidth}{6.3in}
%\setlength{\hoffset}{-20pt}
%\setlength{\footskip}{35pt}
%\setlength{\textheight}{8.9in}
%\setlength{\oddsidemargin}{25pt} 
%\setlength{\evensidemargin}{25pt}



%\newcommand{\vstr}[1][3]{\rule{0ex}{#1ex}} %vertical strut (spacer)
%\newcommand{\hstr}[1][3]{\rule{#1ex}{0ex}} %horizontal strut (spacer)
%\newcommand{\pgap}[1][0.3cm]{\vspace{#1 plus 0.1cm minus 0.1cm}} %paragraph spacer
%\newcommand{\negsp}[1][20]{\mspace{-#1mu}} %negative space (moves left)

%Adjusts spacing between lines.
%\linespread{1.3}

%For footnotes that use symbols instead of numbers.
%\long\def\symbolfootnote[#1]#2{\begingroup%
%\def\thefootnote{\fnsymbol{footnote}}\footnote[#1]{#2}\endgroup}

%%%%%%%%%%% END FANCY HEADER STUFF %%%%%%%%%%%%

% various theorems, numbered by section

%\renewcommand{\familydefault}{\sfdefault} %sans serif font
%\setlength{\parskip}{\baselineskip} %vertical space for new paragraph
%\setlength{\parindent}{0pt} %don't indent new paragraphs

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{conj}[thm]{Conjecture}

\theoremstyle{definition}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{conv}[thm]{Convention}
\newtheorem{dfn}[thm]{Definition}
\newtheorem{qst}[thm]{Question}
\newtheorem*{claim*}{Claim}
\newtheorem{exa}[thm]{Example}

\DeclareMathOperator{\id}{id}

\newcommand{\bd}[1]{\mathbf{#1}}  % for bolding symbols
\newcommand{\RR}{\mathbb{R}}      % for Real numbers
\newcommand{\ZZ}{\mathbb{Z}}      % for Integers
\newcommand{\NN}{\mathbb{N}}      % for Naturals
\newcommand{\PP}{\mathbb{P}} %for peripheral subgroups
\newcommand{\PPP}{\mathcal{P}} %for collection of peripheral subgroups
\newcommand{\HH}{\mathbb{H}} %for hyperbolic space
\newcommand{\col}[1]{\left[\begin{matrix} #1 \end{matrix} \right]}
\newcommand{\comb}[2]{\binom{#1^2 + #2^2}{#1+#2}}
\newcommand{\lfh}{1.3cm} %figure height
\newcommand{\sfh}{0.3cm} %smaller figure height
\newcommand{\spa}{\hspace{0.1cm}} %add hspace
\newcommand{\nc}[1]{\langle\langle#1\rangle\rangle} %normal closure
\newcommand{\pres}[1]{\langle#1\rangle} %presentation
\newcommand{\cz}{\text{CAT}(0)}
\newcommand{\cl}[1]{\overline{#1}} %closure
\newcommand{\intr}[1]{\text{int}(#1)} %interior
\newcommand{\abs}[1]{\lvert#1\rvert}

\newcommand{\aux}[1]{\widecheck{#1}} % images of sets in auxiliary diagram
\newcommand{\ucc}[1]{\bar{#1}} % (U)niversal (C)over (C)ollapse (collapse essential 2-cells with the same boundary
\newcommand{\pl}[1]{#1_{\#}} % (P)atching
\newcommand{\os}[1]{#1^{(1)}} %(O)ne-(S)keleton (for a CW complex)
\newcommand{\zs}[1]{#1^{(0)}} %(Z)ero-(S)keleton (for a CW complex)
\newcommand{\ggp}[1]{#1_1} %one-skeleton of a staggered generalized 2-complex
\newcommand{\gos}[1]{#1_{\text{tot}}} %notation for underlaying (G)raph (O)f (S)paces
\newcommand{\rl}{\ell_r} %notation for (R)elative (l)ength
\newcommand{\bsl}[1]{\ell(#1)} %notation for (B)ass-(S)erre (l)ength
\newcommand{\frgsl}[1]{L(#1)} %notation for (f)inite (r)elative (g)en (s)et (l)ength
\newcommand{\da}[1]{\mathcal{A}(#1)} %notatation for (d)iagram (a)rea
\newcommand{\stab}[1]{\text{stab}(#1)} %stabilizer
\newcommand{\nbhd}[2]{\mathcal{N}_{#2}(#1)}%notation for #2-nbhd of #1
\newcommand{\diam}[1]{\text{diam}(#1)} %diameter of a set
\newcommand{\smcan}{C'(\frac{1}{6})} %(s)mall (c)ancellation
\newcommand{\horo}{\mathcal{H}} %horoball
\newcommand{\aug}[1]{A(#1)} %notation for augmentation
\newcommand{\coll}[1]{{#1}_c} %space obtained by collapsing the spanning tree
\newcommand{\ceil}[1]{\lceil#1\rceil} %ceiling

%\newcommand{\simpcon}{simply connected} %simply connected

\renewcommand\labelitemii{\textbullet}

\renewcommand\labelitemiii{\textbullet}

%\pagestyle{fancy}
%\fancyhead{} % clear all header fields
%\renewcommand{\headrulewidth}{0pt} % no line in header area
%\fancyfoot{} %clear all footer fields
%\fancyfoot[RO, LE]{Revision date: \today}   




\newcommand{\sxyz}{((K_x)_y)_z}
\newcommand{\rxy}{(R_x)_y}
\newcommand{\ryx}{(R_y)_x}
\newcommand{\Sxyz}[3]{((K_#1)_#2)_#3}

\begin{document}

%\nocite{*}
%titlepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\pagenumbering{roman}
{%% PAGE NUMBERING ROMAN

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TITLE PAGE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\singlespacing

\newpage
\thispagestyle{empty}
\begin{center}
{ %\large
\uppercase{UNIVERSITY OF OKLAHOMA}
\par
\vspace{0.16in}
\uppercase{GRADUATE COLLEGE}
\par
\vspace{1.2in}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%COMBINATION OF QUASICONVEX SUBGROUPS IN
% If \(G\) has cohomological dimension 2 then there are at most two non-trivial finite type \ref{defn:finitetype} pairwise transverse \ref{defn:transverse} \(G\)-trees up to deformation.
\uppercase{locally finite tree actions for groups of dimension two} 
\par
\vspace{0.17in}
%RIGHT-ANGLED ARTIN GROUPS
\par
\vspace{1.2in}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\uppercase{A dissertation}
\par
\vspace{0.17in}
\uppercase{Submitted to the graduate faculty}
\par
\vspace{0.17in}
in partial fulfillment of the requirements for the
\par
\vspace{0.17in}
Degree of
\par
\vspace{0.17in}
\uppercase{Doctor of Philosophy}
\par
\vfill
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
By
\par
\vspace{0.17in}
\uppercase{Anthony Michael Martino}
\par
%\vspace{0.05in}
Norman, Oklahoma
\par
%\vspace{0.05in}
2019
}
\end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% SIGNATURE PAGE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\thispagestyle{empty}
\ \vspace{0.25in}
\begin{center}
{%\large
\uppercase{locally finite tree actions for groups of dimension two}
\par
\vspace{0.17in}

\par
\vspace{0.5in}

\uppercase{A dissertation approved for the}
\par
%\vspace{0.17in}
\uppercase{Department of Mathematics}
\par
\vspace{1in}
\uppercase{by}
\par
%\vfill
\vspace{2in}
\begin{flushright}
\begin{tabular}{cr}
%\hline
\  \  \  \  \  \  \  & Dr. Max Forester, Chair\\
 %\\ &  \\
  \\ &  \\
%\hline
  & Dr. Noel Brady \\
%\\ & \\
 \\ &  \\
%\hline
 & Dr. Scott Greene \\
%\\   & \\
 \\ &  \\
%\hline
 & Dr. Michael Jablonski \\
% \\ &  \\
  \\ &  \\
%\hline
   & Dr. Jing Tao \\
\end{tabular}
\end{flushright}
} 
\end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% COPYRIGHT PAGE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\thispagestyle{empty}
\   \
\par
\vfill
\begin{center}
\copyright \    Copyright by \uppercase{Anthony Michael Martino} \   2019

All Rights Reserved.
\end{center}
}

\setcounter{page}{3}
%%%%%%%%%%%%%%% DEDICATION
\newpage
%\thispagestyle{empty} %comment this line to make numbering start right after the copyright page
{\singlespacing
\begin{center}
{
\par
\vspace{1.2in}
%\large
DEDICATION
\par
\vspace{0.57in}
to
\par
\vspace{1.2in}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
<PLACEHOLDER>
\par
\vspace{0.17in}
<PLACEHOLDER>
\par
\vspace{0.17in}
<PLACEHOLDER>
\par
\vspace{0.17in}
<PLACEHOLDER>
\par
\vspace{0.17in}
\par
\vspace{1.2in}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\par
\vspace{0.17in}
%
\par
\vfill
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
}
\end{center}
}


\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ACKNOWLEDGEMENTS PAGE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Acknowledgments} %TODO: expand acknowledgments

< PLACEHOLDER >

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TABLE OF CONTENTS PAGE  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
%{\singlespacing
\tableofcontents{}

\newpage
\listoffigures
%\newpage
%}

\newpage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ABSTRACT  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter*{Abstract} %TODO: expand abstract

< PLACEHOLDER >

\newpage

} %% END PAGE NUMBERING ROMAN

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagenumbering{arabic}

\chapter{Introduction}

From a topological perspective we want to look at groups that are fundamental groups of spaces where the space itself is built up from repeatedly applying van kampen's theorem. More formally, there are a collection of vertex and edge spaces having prescribed fundamental groups. After taking products of edge spaces with intervals one gets spaces that can be glued from both ends to the vertex spaces in a way that is injective on fundamental groups. The result is a graph of spaces. The corresponding algebraic data is an indexed set of groups along with injective homomorphisms. The graph of spaces construction is unique up to homotopy so the groups and injective homomorphisms are essentially all the data needed to construct the geometric picture. It turns out that this graph of spaces view corresponds exactly via Bass-Serre theory to group actions on trees without edge inversions.

Once you have a graph of groups you can get a new one by collapsing an edge corresponding to \(A*_CC\) to the vertex corresponding to \(A\). Such a move or its reverse is called an elementary deformation. A deformation space then is the space of all graphs of groups obtained by a finite sequence of elementary deformations. We say a graph of groups is reduced if there are no remaining elementary deformations.

Graphs of groups where the vertex and edge groups are trivial yield free groups. Allowing abelian free groups gives what are called Generalized Baumslag-Solitar groups which include special cases like BS(1,2) and BS(p,q) which serve as interesting examples and counterexamples in their own right. For this paper we work with groups of cohomological dimension 2 with locally finite trees and finitely generated vertex and edge groups. These correspond to finite-index graphs of finite rank free groups. The space itself will use graphs to represent free groups; taking products we will end up with a square complex.

\begin{thm}
    [Main Theorem]
    \label{thm:martino}
    If \(G\) is finitely generated and has dimension 2 then either \(G\) is the fundamental group of a primitive VHD complex or there are at most two pairwise transverse deformation spaces of locally finite, finite-type \(G\)-trees.
\end{thm}

% 

We conjecture that primitive VHD complexes all have a fundamental group of \(\mathbb{Z}\times \mathbb{Z}\) so the main conjecture is the following.

\begin{conj}
    [Main Conjecture]
    If \(G\) is finitely generated, dimension 2, and not \(\mathbb{Z}\times \mathbb{Z}\), then there are at most two pairwise transverse deformation spaces of locally finite, finite-type \(G\)-trees.
\end{conj}

\chapter{Preliminaries}

    This section collects general results and fixes terminology.

    A \emph{\(G\)-Tree} is an action of a group \(G\) on a simplicial tree without inversions. An element \(g\in G\) is \emph{elliptic} if \(g\) fixes a vertex and \emph{hyperbolic} otherwise. A subgroup \(H\leq G\) is \emph{elliptic} if there is a vertex that is fixed by all elements of \(H\). We denote the set of all elliptic subgroups by \(\mathcal{E}(G)\).

\section{Examples}

(??? work on examples)
\begin{exa}
Need an example of a collapse expand move / reduced not reduced / etc.
\end{exa}

\begin{exa}
give the standard Bass-Serre example about SL2Z etc
\end{exa}

\begin{exa}
Spell out the standard picture where FH, FL, FP sort of correspond to the module situation with ZG ... \(ZG^k\) where k is the number of cells and the slot is the dimension of cells

...has a cellular chain complex ... free Z modules infinite rank
...group into copies of ZG ...



===






\end{exa}

\begin{exa}

An important non-example: The Torus has infinitely many graph of spaces decompositions each lying in a different deformation space. To see this, note that simple closed curves on the torus correspond to graph of spaces decompositions with the curve as the edge space. Up to homotopy, such curves correspond to extended rationals e.g. r/s, 1/0, and 0/1 each telling you how many times a curve wraps around both directions of the torus. The wrapping numbers correspond to coordinates of \(\mathbb{Z}\times \mathbb{Z}\), so r/s corresponds to the cyclic subgroup \(\langle (r,s)\rangle\leq \mathbb{Z}\times \mathbb{Z}\). With this perspective, \(\mathbb{Z}\times \mathbb{Z}\) can be viewed as an HNN extension (i.e. a graph of groups with exactly one edge and one vertex) where the vertex and edge space is named by some r/s. The elliptic subgroups are exactly the vertex group and it's subgroups therefore by  \ref{thm:forester} each splitting is in a different deformation space.




% Non-example: The Torus has infinitely many decompositions all in different deformation spaces

% The torus is Z x Z, or if you like it's Z with the generator glued to itself via the identity (the HNN version). 
% From the Z x Z perspective, a pair of extended (i.e. include infinity so we allow 1/0 and 0/1) rationals p/q and r/s correspond to a basis for Z x Z if [[p,r],[q,s]] has determinant 1 so that < (p,q), (r,s) > contained in Z x Z is a basis.

% Z x Z isom pi1(torus) isom HNN of < (p,q) > over < (p,q) >

% Simple closed curves on the torus correspond to graph of space decompositions of the torus with the curve as the edge space.

% It's easy to see that the one vertex group is different because it's just powers of a single element in ZxZ; the (p,q).

% Conjecturally, this is sort of the only non-example


\end{exa}


\section{Cited results}



\begin{thm}
    [Guirardel Core Theorem]
    \label{thm:guirardelcore}
    Let \(T_1\), \(T_2\) be two minimal actions of \(G\) on \(\mathbb{R}\)-trees having non-homothetic length functions, or being irreducible (see \ref{thm:classification}). Assume that \(T_1\) and \(T_2\) are not the refinement of a common simplicial non-trivial action. Then there exists a subset \(\mathscr{C}\subseteq T_1\times T_2\) which is the smallest non-empty closed invariant connected subset of \(T_1\times T_2\) having convex fibers. Moreover, \(\mathscr{C}\) is CAT(0) for the induced path-metric, and \(T_1\times T_2\) equivariantly deformation retracts to \(\mathscr{C}\). We call \(\mathscr{C}\) the core of \(T_1\times T_2\).
\end{thm}

\begin{rmk}
    \label{guirardelcocompact}
    As Guirardel explains after Theorem 8.1 in \cite{guirardelcorepaper}, if \(T_1\) and \(T_2\) are simplicial trees then the core from \ref{thm:guirardelcore} is cocompact.
\end{rmk}



\section{Actions on Trees}

From \cite{boundingcomplexity} we have the following classification of \(G\)-trees.
\begin{thm}
    [\(G\)-tree Classification]
    \label{thm:classification}
    Let \(G\) be a finitely generated group and \(T\) a minimal \(G\)-tree acting without inversions, then \(T\) satisfies exactly one of the following:
    
    \begin{enumerate}
        \item Elliptic: \(T\) is a point or equivalently every element of \(G\) is elliptic.
        \item Dihedral: \(T\) is a line and there exists an epimorphism from \(G\) to the infinite dihedral group.
        \item Parabolic: \(T\) has one end fixed by \(G\). Additionally, there is an epimorphism from \(G\) to \(\mathbb{Z}\).
        \item Hyperbolic (i.e. irreducible): There exists two axes in \(T\) with compact intersection. When this happens, \(G\) contains a non-abelian free group.
    \end{enumerate}
\end{thm}

The following is a corollary of the main theorem from \cite{foresterdeformationrigidity}.
\begin{thm} [Forester]
    \label{thm:forester}
    Let \(G\) be a group and let \(X\) and \(Y\) be cocompact \(G\)–trees. The following conditions are equivalent.
    \begin{enumerate}
        \item \(X\) and \(Y\) are related by an elementary deformation. 
        \item \(X\) and \(Y\) have the same elliptic subgroups.
    \end{enumerate}
If all vertex stabilizers are finitely generated then we may also include:
\begin{enumerate}
    \setcounter{enumi}{2}
    \item \(X\) and \(Y\) have the same elliptic elements.
\end{enumerate}
\end{thm}

\begin{prop}
[Equivariant Map equivalent to elliptic subgroup containment]
\label{pro:gmapfromsubset}
Suppose $X$ and $Y$ are simplicial \(G\)-trees. Then the following are equivalent:
\begin{enumerate}
    \item \(\mathcal{E}(X) \subseteq \mathcal{E}(Y)\)
    \item There exists a simplicial $G$-map from a subdivision of $X$ to $Y$.
\end{enumerate}
\end{prop}
\begin{proof}
    For (1)$\Rightarrow$(2) we will construct a $G$-map. As in \ref{lem:affineequivariantmap} we start by defining a map on representatives of vertex orbits and extending equivariantly. Pick a vertex \(x\in X\), by (1) \(G_x\) is also elliptic in \(Y\) and so fixes at least one vertex, say \(y\). Define \(f(x)=y\). Next, we check that the resulting map is well-defined.
    
    Indeed, if \(gv = hv\) then \(g^{-1}h = v\) which means \(g^{-1}h \in G_v\). Then by the definition of \(f\) the element \(g^{-1}h\) fixes \(f(v)\in Y\). Hence,
    
    \[f(gv) = gf(v) = g(g^{-1}h)f(v) = hf(v) = f(hv).\]
    
    Once defined on vertices, define on edges by sending the edge \(vw\) to the unique path in \(Y\) from \(f(v)\) to \(f(w)\). To make this definition work on edges it may be necessary to subdivide the edge \(vw \in X\). If the endpoints of an edge go to the same vertex, send the entire edge to that vertex. 
    
    For (2)$\Rightarrow$(1), suppose $f:X\to Y$ was a simplicial $G$-map. Consider a vertex group of $X$, say $G_x$. Let $g\in G_x$, then $g\cdot f(x)=f(g\cdot x)=f(x)$ a vertex in $Y$ since the map is simplicial. Hence, $G_x$ also fixes the vertex $f(x)\in Y$. Hence, every vertex group for $X$ fixes a vertex of $Y$. Therefore, every elliptic subgroup for $X$ is also elliptic for $Y$.
\end{proof}

\begin{dfn}
    [Minimal Action]
    \label{defn:minimal}
    We say a $G$-tree is \emph{minimal} if there is no proper invariant subtree.
\end{dfn}

\begin{dfn}
    [Bass-Serre Map]
    \label{defn:bsmap}
    The universal cover of a graph of spaces is a tree of spaces. Define a map to the underlying tree taking $X_v$ to a point and $X_e \times I$ to an edge by collapsing fibers. This map is called a Bass-Serre map.
\end{dfn}


\begin{dfn}
    [Directions and Halfspaces]
    \label{dfn:directionhalfspaces}
    A \emph{direction} based at a point \(p\in T\) where \(T\) is a tree is a connected component of \(T\smallsetminus p\). If \(p\) is a midpoint of an edge then we call the resulting directions \emph{halfspaces}.
    
    A \emph{halfspace in a product of trees} is a preimage of a direction of a tree by projection. A \emph{quadrant} in \(T_1\times T_2\) based at \((x,y)\) is the product of two directions at \(x\) and \(y\) respectively or equivalently the intersection of two halfspaces. Similarly for \emph{orthants} in a product of three trees.
\end{dfn}

\begin{dfn}
    [Finite Type]
    \label{defn:finitetype} 
    We say a $G$-tree is of \emph{finite type} if the tree is locally finite, the vertex stabilizers have property FP, and the quotient is finite.
\end{dfn}


 \begin{dfn}
     [Geometric Action]
     \label{defn:geometricaction}
     See \cite{levitt} for the full definition. In the same paper Levitt gives an alternate condition \ref{lem:simpgeo} that applies in our situation.
 \end{dfn}
 
\begin{lem}
    [Geometric Condition]
    \label{lem:simpgeo} 
    (Theorem 0.6 in \cite{levitt})
    A minimal simplicial action of a finitely generated group is geometric if and only if all edge groups are finitely generated.
\end{lem}

\section{Folding} 

\begin{dfn}
    [Folding]
    \label{defn:folding}
    Folding is an operation on \(G\)-trees without inversions. Essentially, two edges sharing a vertex are folded together followed by folding their translates together equivariently. After folding and possibly subdividing a new \(G\)-tree without inversions is produced. There are several named types of folds based on the effect the folding has in the quotient graph. The main folds are of type IA, IIA, IIIA. We also have folds of type IB,IIB, IIIB and IIIC but these are compositions of type A folds and subdivisions. For details see \cite{boundingcomplexity} and \ref{exa:folding}.
\end{dfn}

\begin{exa}
\label{exa:folding}
(??? detailed folding example)
\end{exa}

\begin{thm}[Bestvina-Feighn \cite{boundingcomplexity}]
    \label{thm:folds} 
    Let $G$ be a finitely generated group. Suppose that $\alpha: T'\to T$ is a simplicial equivariant map from a $G$-tree $T'$ to a minimal $G$-tree $T$ such that no edge in $T'$ is mapped to a point by $\alpha$. If all edge stabilizers of $T$ are finitely generated and if $T'/G$ is finite, then $\alpha$ can be represented as a finite composition of folds.
\end{thm}

\begin{dfn}
    [Morphism]
    A \emph{morphism} is a map between graphs where vertices go to vertices and edges go to edges. (Alternatively, this is a simplicial map where no edges are collapsed)
\end{dfn}

\begin{dfn}
    [Collapse Map]
    A \emph{collapse map} is a map between two trees obtained by quotienting each connected component of a union of subtrees to a point. (Alternatively, it's a simplicial map where the preimage of every vertex is connected)
\end{dfn}

\begin{lem}
    \label{lem:gmapfactor}
    Every surjective \(G\)-map between trees factors as a collapse map, followed by a morphism.
\end{lem}
% really it's collapse, morphism, immersion but who cares we just need the onto case

\begin{lem}
    [Affine Equivariant Map]
    \label{lem:affineequivariantmap} 


    Suppose that \(G\) acts freely on a simplicial complex \(K\) and acts on a simplicial tree \(T\). Then there exists an equivariant map \(f: K \to T\) where the connected components of the fibers of \(f\) are the leaves of a measured foliation and \(f\) is an isometry on edges transverse to \(\mathscr{F}\).
    \begin{proof}
        Construct an equivariant map.

        We start by defining \(f\) on \(K^{(0)}\) the 0-skeleton. By equivariance it is enough to define the map on a single vertex in each vertex orbit. These choices can be arbitrary. Next we check that the resulting map is well-defined. 
        
        Indeed, if \(gv=hv\) then \(g^{-1} h = 1\) by freeness and so
        
        \[ f(gv) = gf(v) = g(g^{-1}h)f(v) = hf(v) = f(hv). \]
        
        Next we define the map on the 1-skeleton by mapping each edge. If \(vw\) is an edge, map it to the unique geodesic \([f(v), f(w)]\) in \(T\).
        
        Lastly, for 2-cells we use the standard fibration coming from mapping triangles to tripods. There are four cases based on where the 3 vertices land in \(T\). 
        
(??? update left triangle so that quotient tree is rotated to be in line with what the picture is showing)        
\begin{figure}[htp]
    \centering
    \includegraphics[width=16cm]{triangle_fibers.png}
    \caption{Possible fibrations for each simplex}
    \label{fig:triangle_fibers}
\end{figure}
        
        To obtain a transverse measure, take a small arc \(\alpha\) that is transverse to the leaves of the foliation. The length of \(\alpha\) is defined to be the length of \(f \circ \alpha\) in the tree. Hence, by construction \(f\) is an isometry on edges transverse to \(F\).
    \end{proof}
\end{lem}

% (??? Found a reference about minimality:


% ... proof is easier if cocompact due to result of bass

% ... bass: minimal <=> condition on quotient graph

% ... if you're not minimal then in the quotient you are a core graph + collapsible trees (where every edge is collapsible but also maybe infinite)


% ..... can also prove using ... invariant tree and think about what a random edge has to do

% ===

% "Note that if a G–tree (or a graph of groups) is reduced then it is minimal." \cite{foresterdeformationrigidity}

% In the lemma below, do we need cocompactness? (no) -- but it's easier and we can cite a nice  Bass Covering Theory paper stuff

% Update: Still looking for this result from the bass paper

% )
\begin{lem}
    \label{reducedcocompact}
    If \(X\) is a \(G\)-tree that is reduced then it is minimal
\end{lem}


\section{Cohomological Dimension and Groups of Type FP}


We write \(A\) to mean an arbitrary ring with a unit. Take \(R\) to be a non-zero commutative ring with a unit. A resolution of a module \(M\) is a sequence of modules \((P_k)_{0\leq k\leq \infty}\) and homomorphisms \((\phi_k)_{0\leq k\leq \infty}\) where \[\cdots \to P_0 \overset{\phi_0}{\to} M\] is exact. We say a resolution \[\cdots 0\to P_n\to \cdots\to P_0 \to M\] has length \(n\) if \(n\) is the greatest integer such that \(P_n\) is a non-zero module.

\begin{dfn}
    [Projective Module]
    A module \(P\) is projective if for every surjective module homomorphism \(f: N\to M\) and for every module homomorphism \(g: P\to M\) there exists a module homomorphism \(h: P\to N\) such that \(fh = g\).
\end{dfn}

\begin{dfn}
    [Projective Resolution]
    A \emph{projective resolution} \((P_k)_{0\leq k\leq \infty}\) of a module \(M\) is a resolution of \(M\) where all the \(P_k\) are projective modules.
\end{dfn}

\begin{dfn}
[Cohomological Dimension]
The cohomological dimension of a group \(G\) is given by:
\[
    \text{cd}(G) = \text{inf}\{n\mid\text{The trivial }\mathbb{Z}G\text{-module }\mathbb{Z}\text{ admits a projective resolution of length \(n\) over \(\mathbb{Z}\)G}\}
\]
\end{dfn}

\begin{dfn}
[Property \(FP_n\) for a Module]

A module \(M\) over \(A\) has property \(FP_n\) with \(0\leq n\leq \infty\) if there is a projective resolution \((P_k)_{0\leq k\leq \infty}\) of \(M\) where the \(P_k\) are finitely generated for all \(0\leq k\leq n\).
\end{dfn}

\begin{rmk}
The property \(FP_n\) generalizes familiar properties. For a module \(M\) being finitely generated is equivalent to having property \(FP_0\). Similarly for being finitely presented and property \(FP_1\).
\end{rmk}

\begin{dfn}
[Property \(FP_n\) for a Group]

A group \(G\) has property \(FP_n\) over a ring \(R\) with \(0\leq n\leq \infty\) if the trivial \(RG\)-module \(R\) is of type \(FP_n\) as an \(RG\)-module.
\end{dfn}

For our purposes we will only need the case where \(R\) is the integers \(\mathbb{Z}\) and will therefore omit the ring. Our resolutions will then be taken over the group ring \(\mathbb{Z}G\).

\begin{prop}
(Bieri p19)
A group \(G\) is finitely generated if and only if \(G\) is of type \(FP_1\) over \(R\).
\end{prop}

\begin{dfn}
[Property FP]
(Bieri p55)
A module is of type FP if there exists a finitely generated projective resolution of finite length.
\end{dfn}

\section{VH-complexes}

A \emph{cube complex} is a CW-complex consisting of cubes glued together via face isometries. A \emph{midcube} of a cube \([-1,1]^k\) is the result of restricting one coordinate to zero. A \emph{hyperplane} of a cube complex comes from taking a single midcube and extending it along glued faces of the cube complex to include other midcubes. Hyperplanes are cube complexes themselves but come with an immersion into the surrounding complex. For details see \cite{haglundwise}.

\begin{dfn}
    [Square Complex]
    A \emph{square complex} is a combinatorial 2-complex whose 2-cells are attached by combinatorial paths of length 4
\end{dfn}

\begin{dfn}
    [VH-complex]
    A square complex $X$ is a \emph{VH-complex} if the following hold,
    \begin{enumerate}
        \item the link at each vertex is simplicial;
        \item each edge is labelled vertical or horizontal;
        \item each hyperplane is two-sided;
        \item attaching maps alternate between each type of edge.
    \end{enumerate}
    Let $V$ and $H$ denote the set of vertical and horizontal edges. Take $V_X = V \cup X^{(0)}$ and $H_X = H \cup X^{(0)}$ to be the vertical and horizontal skeletons. 
\end{dfn}

\begin{rmk}
Note that the link of every VH-complex is a bipartite graph; this follows from conditions (2) and (3), see also remark 1.4 from Wise \cite{wisethesis}. In dimension 2 the NPC property for a cube complex is equivalent to requiring that all links be simplicial graphs i.e. no double edges. Wise does not require his VH-complexes to be NPC. For our purposes we assume the equivalent link property in dimension 2 for convenience. The link property also generalizes to an object we need later called a VHD-complex.
\end{rmk}

\begin{dfn}
    [Two-sided Hyperplanes]
    A hyperplane \(H\) is \emph{two-sided} if the open cubical neighborhood is homeomorphic to \(H\times (-1,1)\). For details see \cite{haglundwise}.
\end{dfn}

\begin{rmk}
    A hyperplane is two-sided if and only if there is a choice of orientation on each edge dual to the hyperplane that is consistent across squares. This orientation condition can always be achieved by subdividing a cube complex twice. For details see Wise \cite{wisecsc}. This allows us to avoid twisting (e.g. Mobius bands) and ensure our cube complexes will decompose easily into graphs of spaces.
\end{rmk}

\begin{dfn}
    [Decomposition Graph]
    \label{dfn:decompositiongraph}
    
    Given a VH-complex \(X\) we define a map \(\rho: X\to \Gamma_X\) from \(X\) to a graph. The vertices of \(\Gamma_X\) are defined to be the connected components of \(V_X\) which we call vertex spaces and the edges are given by the connected components of \(X\smallsetminus V_X\). After foliating each square with vertical segments, given \(x\in X\) define \(V_x\) to be the smallest subset of \(X\) that contains \(x\) and any vertical segment that it intersects. Because \(X\) has two-sided hyperplanes there are no singular leaves and \(V_a\) and \(V_b\) are parallel to each other if \(a\) and \(b\) lie in the interior of the same horizontal edge. The set of all \(V_x\) then gives a foliation of \(X\). Collapsing each leaf of the foliation is enough to define a map to \(\Gamma_X\) viewed as a 1-dimensional cell complex. 
\end{dfn}

The following is a restatement of theorem 2.16 \cite{wisethesis} from Wise:
\begin{thm}[Wise Graph Decomposition]
\label{thm:wisegraph}
Suppose \(X\) is a VH-complex. Then the vertical and horizontal decomposition graphs \ref{dfn:decompositiongraph} each determine a splitting of \(\pi_1(X)\) as a graph of free groups. 
\end{thm}

\chapter{Locally finite trees and elliptic subgroups}

In this section we prove various utility lemmas related to locally finite trees. We also give a key sufficient condition for when elliptic subgroup containment can be upgraded to equality.

\begin{prop}
    [Hyperbolic gives unique minimal tree]
    \label{pro:uniquemintree}
    
    If $G$ is acting on a tree $X$ and contains a hyperbolic element then there is a unique minimal subtree equal to the union of all hyperbolic axes. In particular it is non-empty.
\end{prop}
\begin{proof}
See Proposition 3.1 from [2].
\end{proof}
\begin{prop}
    [Commensurable groups have the same minimal tree]
    \label{pro:commintree}
    Suppose $G$ acts on a tree $X$ and $H$ and $K$ are commensurable subgroups. If $H$ contains a hyperbolic element, then so does $K$ and the minimal subtrees for $H$ and $K$ are equal.
\end{prop}
\begin{proof}
    This follows from \ref{pro:uniquemintree}, for details see Corollary 7.7 from \cite{hymanbass}.
\end{proof}

\begin{prop}
    [Folding preserves properties]
    \label{lem:foldingpreserveshyp}
    Suppose $X$ and $Y$ are $G$-trees. In addition suppose $Y$ has a locally finite minimal subtree that is not a point. Let $\phi:X\to Y$ be a type A fold. Then if an element of $G$ is hyperbolic for $X$ it is also hyperbolic for $Y$.
    
    \begin{proof}
        For the fold $\phi$ pick two edges $e$ and $e'$ that are folded and adjacent to some $v$. The element $g$ is hyperbolic and so comes with an axis that has a positive translation length, hence $Gv$, the orbit of $v$ is infinite. Because $\phi$ is a type A fold, $G v$ is taken injectively to $Y$. That is, $G(\phi (v))$ is infinite. If $G(\phi (v))$ intersects $Y_\text{min}$ then $G(\phi v)$ is entirely contained in $Y_\text{min}$ because minimal trees are $G$-invariant. However, $g$ is elliptic in $Y$ and we are acting by isometries so the infinte set $G(\phi (v))$ lies within a bounded distance of $\phi (v)$ in $Y_\text{min}$; but this is impossible becauase $Y_\text{min}$ is locally finite. That is, $G(\phi (v))\subset Y\smallsetminus Y_\text{min}$. 
        
        Consider the images of the folded edges $e$ and $e'$ along with their orbits. 
        Folds preserve adjacency so every edge in $G(\phi (e))$ (which is equal to $G(\phi (e'))$) is adjacent to a vertex in $G( \phi (v))$. In particular, this means at least one vertex of each edge in $G(\phi (e))$ and $G(\phi (e'))$ is outside of $Y_\text{min}$. 
        Therefore, $G(\phi (e))$ and $G(\phi (e'))$ are not contained in $Y_\text{min}$. 
        Said differently, $\phi( Ge\cup Ge')$ is disjoint from $Y_\text{min}$.
        
        Finally, since $Y_\text{min}$ is not a point, it contains an edge, call it $f$. Consider an edge $\hat{f}$ that maps to $f$. Since $f$ is contained in $Y_\text{min}$ it is disjoint from $\phi( Ge\cup Ge')$ and therefore $\hat{f}$ is not part of a fold and therefore \(G\hat{f}\) goes injectively. But this is impossible because then $Gf$ is an infinite set within a bounded distance of a single point in a locally finite tree.
    \end{proof}
\end{prop}

\begin{lem}
    \label{lem:pullbacklocallyfinite}
    If \(X\) and \(Y\) are in the same deformation space and \(Y_\text{min}\) is is locally finite then \(X_\text{min}\) is also locally finite.
    \begin{proof}
        Apply Lemma 2.10 from \cite{draftpaper} and use the definition of minimal subtree.
    \end{proof}
\end{lem}

\begin{lem}
    [Collapse map preserves hyperbolic elements]
    \label{lem:preservehyperbolicity}
    Suppose \(X \to Y\) is a collapse map with \(Y\) locally finite. Suppose \(Y\) is not a single point. Then, if an element is hyperbolic for \(X\) it is also hyperbolic for \(Y\).
    \begin{proof}
        Suppose for sake of a contradiction that \(g\in G\) were hyperbolic for \(X\) and elliptic for \(Y\). Let \(y \in Y\) be some vertex fixed by the elliptic element \(g\) and \(G_y\) it's stabilizer. Since \(Y\) is not a single point, there is another vertex \(y\neq z \in Y\). Because \(Y\) is locally finite, \(G_y\) and \(G_z\) are commensurable. For \(G\)-maps, pre-images are invariant. By the construction of a collapse map, the preimage of vertices are connected and non-empty. Putting these together we have that the preimages of vertices are invariant trees. This means that the minimal subtrees of \(G_y\) and \(G_z\) acting on \(X\) are contained in the disjoint preimages of \(y\) and \(z\) respectively. However, since they are commensurable and \(G_y\) contains the hyperbolic element \(g\), these minimal trees are non-empty and equal by \ref{pro:commintree}. This is a contradiction.
    \end{proof}
    % \begin{proof}
    %     (Proof in Style 2)
    %     For sake of a contradiction suppose $g\in G$ acts hyperbolically on $X$ but elliptically on $Y$.  Then $g$ fixes some vertex $y\in Y$.  Consider the stabilizer $G_y$ acting on $X$. The tree $f^{-1}(y)$ is stabilized by $G_y$ because the map is a $G$-map. This means the minimal tree for the $G_y$ action on $X$ is contained in $f^{-1}(y)$. It's non-empty because $g\in G_y$ is hyperbolic for $X$.
        
        
    %     Since $Y$ is not a single point, there exists some vertex $z\in Y$ with $z\neq y$. As before, $G_z$ stabilizes the tree $f^{-1}(z)$ so the minimal tree for the $G_z$ action on $X$ is contained in $f^{-1}(z)$. By local finiteness and the orbit-stabilizer theorem applied to the set of edges adjacent to a given vertex, $G_y$ and $G_z$ are commensurable. By \ref{pro:commintree} the minimal tree for $G_y$ is non-empty and equal to the minimal tree for $G_z$. Except now the minimal tree for $G_y$ acting on $X$ is contained in two non-empty disjoint sets $f^{-1}(y)$ and $f^{-1}(z)$ a contradiction.
    % \end{proof}
\end{lem}


\begin{thm}
    [Elliptic elements determine elliptic subgroups]
    \label{thm:ellelesubgroups} 
    Let \(X\) and \(Y\) be cocompact \(G\)-trees with finitely generated vertex groups. Then the following are equivalent:
    \begin{enumerate}
        \item \(X\) and \(Y\) define the same partition of \(G\) into elliptic and hyperbolic elements.
        \item \(X\) and \(Y\) have the same elliptic subgroups.
    \end{enumerate}

    \begin{proof}
    By Proposition 2.6, Theorem 4.2, and Corollary 4.3 of \cite{foresterdeformationrigidity}.
    \end{proof}
\end{thm}

\begin{thm}
    [Elliptic containment implies equality]
    \label{thm:ellipticimpliesequality} 
    If \(X\) and \(Y\) are locally finite cocompact \(G\)-trees with finitely generated vertex and edge stabilizers and \(Y\) has no global fixed point then \(\mathcal{E}(X) \subseteq \mathcal{E}(Y) \Longrightarrow \mathcal{E}(X) = \mathcal{E}(Y) \). 
\begin{proof}

    Let \(X\) and \(Y\) as in the hypotheses. Without loss of generality we may assume that \(X\) and \(Y\) are reduced and therefore minimal by \ref{reducedcocompact}. By \ref{pro:gmapfromsubset} there exists a \(G\)-map from \(X\) to \(Y\). This \(G\)-map is onto because \(Y\) is minimal and the image of a \(G\)-map is an invariant set. Using \ref{lem:gmapfactor} we can factor the \(G\)-map into a collapse map followed by a morphism. Apply \ref{thm:folds} to factor the morphism into a finite sequence of folds. From a remark in \cite{boundingcomplexity} after possibly subdividing we can take all of the folds to be of type A. Collapse maps and folds preserve the finite generation of vertex and edge stabilizers. In the next step we repeatedly apply \ref{lem:pullbacklocallyfinite}. Using \ref{lem:preservehyperbolicity} and \ref{lem:foldingpreserveshyp} we see each stage of the composition starting from the right preserves the property of hyperbolicity for an element \(g\in G\).  Hence, \(X\) and \(Y\) partition \(G\) into the same elliptic and hyperbolic elements. Under our setup \ref{thm:ellelesubgroups} applies, therefore \(X\) and \(Y\) have the same elliptic subgroups as needed.
\end{proof}
\end{thm}

\chapter{Transverse deformation spaces}

In this section, we introduce the transverse property and use it to give a construction of a VH-complex with prescribed splittings. This construction will be the first step in bootstrapping the construction of the extended core used in the proof of the main theorem.

\begin{dfn}
    [Transverse]
    \label{defn:transverse} 
    We say that two locally finite \(G\)-trees \(X\) and \(Y\) are \emph{transverse} if they are not in the same deformation space and there exist two vertex stabilizers, one for each tree, such that their intersection has Property FP.
\end{dfn}

\begin{rmk}
    The definition of transverse does not depend on the vertices chosen and remains unchanged up to deformation. \new{From the definition of transverse one gets that \(G_x\cap G_y\) is FP for a specific \(x\) and \(y\). Consider \(G_{x'}\). Local finiteness of \(X\) implies that \(G_{x'}\) and \(G_x\) are commensurable so they share a finite index subgroup. Taking the subgroup diagram and intersecting everything with \(G_y\) and checking the inclusions are still of finite index gives that \(G_{x'}\cap G_y\) is commensurable with \(G_x\cap G_y\) and so also must be FP. A similar argument works for vertices \(y'\) in the second tree.
    An elementary deformation either pulls a subgroup out into a new vertex group or pushes one back in. In either case, the tree remains transverse to the same trees.}
\end{rmk}

\begin{dfn}
    [Refinement]
    For \(G\)-trees \(T_1\) and \(T_2\) we say that \(T_1\) \emph{is a refinement of} \(T_2\) if there is an equivariant collapse map from \(T_1\) to \(T_2\).
\end{dfn}

\begin{lem}
    [Not refinements of a common tree]
    \label{lem:nocommonrefinement} 
    Let \(X\) and \(Y\) be two locally finite \(G\)-trees that lie in different deformation spaces. Then $X$ and $Y$ are not refinements of a common non-trivial simplicial $G$-tree.
    \begin{proof}
        Suppose the two trees were refinements of a common non-trivial simplicial $G$-tree. This would mean there is an edge in the common tree that has an edge above it in both trees. Let \(K\) be the stabilizer of this edge. It appears in all three trees. Since $X$ and $Y$ are locally finite, the vertex groups of $X$ are commensurable to each other, similarly for $Y$. But the property of fixing a point is invariant under commensurability. Therefore, all vertex groups of the first tree are elliptic in the second tree and vice versa. Hence, both actions have the same elliptic subgroups which means they are in the same deformation space which contradicts our initial assumptions.
    \end{proof}
\end{lem}

% \begin{lem}
%     [Axes are hausdorff equivalent]
%     \label{lem:axeshausdorff}
%     (??? no longer needed in proof of transverse lemma)
%     Any two axes for a given hyperbolic isometry of a geodesic metric space are Hausdorff equivalent.
% \begin{proof}

% \begin{figure}[htp]
%     \centering
%     \includegraphics[width=4cm]{axis-hausdorff.jpg}
%     \caption{To show the axes are close, we translate two closest points until they are near an arbitrary point and then apply the triangle inequality}
%     \label{fig:axis-hausdorff}
% \end{figure}

%     Let $X$ be a geodesic metric space and $g$ a hyperbolic isometry with translation length $a$. Suppose $\ell_1$ and $\ell_2$ are axes for $g$. Let $D:= d(\ell_1,\ell_2)$ denote the distance between the closed sets $\ell_1$ and $\ell_2$. Suppose that $x_0\in\ell_1$ and $y_0\in\ell_2$ realize that distance. Let $x\in\ell_1$ be arbitrary. Because the translation length of $g$ is $a$ there is some integer $m$ such that $g^mx_0$ is within $a$ of $x$. The isometry preserves distances so $g^mx_0$ and $g^my_0$ are $D$ far apart. Hence, $$d(x, g^my_0)\leq d(x, g^mx_0) + d(g^mx_0, g^my_0)\leq a+D$$ so $\ell_1$ is within the $a+D$ neighborhood of $\ell_2$. By symmetry, the axes $\ell_1$ and $\ell_2$ are Hausdorff equivalent.
% \end{proof}

% \end{lem}

\begin{lem}
    [Bass finitely generated conditions]
    \label{lem:bassfgcon}
    Consider a group \(G\) acting on a tree \(X\)
    \begin{enumerate}
        \item If \(X/G\) is finite and \(G_x\) is finitely generated for all \(x\in X\) then \(G\) is finitely generated
        \item If \(G\) is finitely generated and acts minimally on \(X\) then \(X/G\) is finite
    \end{enumerate}
    \begin{proof}
        For details see Proposition 7.9 in \cite{hymanbass}.
    \end{proof}
\end{lem}

The following should be thought of as a prequel to the main theorem \ref{thm:martino}. In one of the implications below we take two trees, impose a condition on its vertex stabilizers, apply the Guirardel Core machinery \ref{thm:guirardelcore}, and finally produce a compact 2-dimensional complex with a prescribed fundamental group. In the proof of the sequel, we will take three trees, impose a similar condition on vertex stabilizers, carefully arrange that a key lemma of Guirardel \ref{thm:guirardelsliceconvex} applies, and finally produce a compact 3-dimensional complex.

\begin{thm}
    [Transverse Construction]
    \label{pro:transverseconstruction} 
 Let \(G\) be a group of cohomological dimension 2. If \(X\) and \(Y\) are non-trivial minimal \(G\)-trees of finite type that are in different deformation spaces then the following are equivalent:
\begin{enumerate}
    \item $X$ and $Y$ are transverse
    \item $x \in V(X), y\in V(Y)\Longrightarrow G_x\cap G_y = \{1\}$
    \item There exists a compact VH-complex $K$ with $\pi_1(K) \cong G$ whose horizontal and vertical splittings are $X$ and $Y$.
\end{enumerate}
\begin{proof}

    $1\Rightarrow 2$: Fix $x_0 \in V(X)$. Let $y\in V(Y)$. Then $G_{x_0} \cap G_y = (G_{x_0})_y$. By (1) $X$ is transverse to $Y$ hence $G_{x_0}\cap G_y$ is FP. Since the choice of $y\in V(Y)$ was arbitrary, the vertex groups of the $G_{x_0}$ action on $Y$ are FP. Note, $Y$ locally finite implies it's edge groups are finite index subgroups of it's vertex groups. Hence the edge groups are also FP. 
    
    We claim that the action of $G_{x_0}$ on $Y$ is non-trivial. We will apply Bieri \ref{pro:bireridimension} twice. The third equality below comes from applying Bieri to the action of \(G_{x_0}\) on \(Y\) restricted to the minimal subtree. To know this action is cocompact we use \ref{lem:bassfgcon}.
    \begin{align*}
        2 &= dG\\
          &= dG_{x_0}+1\\
          &= d( G_{x_0} )_y+1+1\\
          &= d(G_{x_0}\cap G_y)+2
    \end{align*}
    The equation shows that $d(G_{x_0}\cap G_y)=0$ so $G_{x_0}\cap G_y$ is trivial.
    
    \begin{claim*}
    The action of $G_{x_0}$ on $Y$ is non-trivial.
    \begin{proof}
        Suppose the action were trivial. That is, there exists some $y\in V(Y)$ such that $(G_{x_0})_y=G_{x_0}$. Hence, $G_{x_0}$ is elliptic for the action of $G$ on $Y$. By the local finiteness of $Y$, for all $x\in V(X)$, $G_x$ acts elliptically on $Y$. Hence, $\mathcal{E}(X)\subset \mathcal{E}(Y)$. Again by local finiteness we can promote this using \ref{thm:ellipticimpliesequality} to $\mathcal{E}(X) = \mathcal{E}(Y)$ which by Theorem \ref{thm:forester} gives $X \sim Y$  contradicting the fact that $X$ and $Y$ were assumed to be in different deformation spaces.
    \end{proof}
    \end{claim*}
$2\Rightarrow 1$: Trivial groups are FP.

$2\Rightarrow 3$: Take $X \times Y$ and give it the VH-structure where $X$ and $Y$ correspond to horizontal and vertical edges respectively. We first check a few conditions.
    
    First note that $X$ and $Y$ are minimal $G$-trees by assumption.
    
    If our trees had homothetic length functions (i.e. the length functions were a constant multiple of each other) then they would vanish on the same elements, which would imply they had the same elliptic elements. Our trees are cocompact with FP vertex groups, and FP implies finitely generated so we can apply \ref{thm:forester} of \cite{foresterdeformationrigidity} which says in this case having the same elliptic elements is enough to conclude that the elliptic subgroups are also the same. Hence, both trees lie in the same deformation space, a contradiction. Therefore, \(X\) and \(Y\) have non-homothetic length functions. By \ref{lem:nocommonrefinement} our trees are not refinements of a common non-trivial simplicial $G$-tree.
    
    Apply the Guirardel Core Theorem \ref{thm:guirardelcore} to obtain $C$ a certain subset of $X \times Y$ that we call the core. The core \(C\) has convex fibers. It's also CAT(0). Our \(G\)-trees are simplicial so \(C\) is a subcomplex. Condition (2) says that $G$ acts freely on the vertices of the product $X\times Y$ and therefore also on the the vertices of the core, a subset of $X \times Y$. Since the \(G\)-trees are simplicial and the product action is free on vertices, and the VH property rules out rotating a square by 90 degrees, and the product action prevents rotations by 180 degrees (a rotation by 180 degrees would invert an edge in the projection) we get that the product action on the cell complex \(C\) will be a covering space action.
    
    We also need that $C/G$ is VH. Is it enough to observe that the product action respects the tree factors. The edge partition on the cover \(C\) descends to a well-defined edge partition on the quotient and attaching maps constructed in the standard way for the quotient alternate between vertical and horizontal edges as needed.
    
    From Guirardel, \(C\) is CAT(0) and therefore NPC. We also get compactness from \ref{guirardelcocompact}. However, NPC is a local condition and under a covering map it descends to \(C/G\). Following Wise in \cite{wisethesis} the VH-complex \(C/G\) has a decompoistion into vertex and edge spaces. The NPC condition ensures the attaching maps are \(\pi_1\)-injective, hence \(C/G\) is a graph of spaces with horizontal and vertical splittings.
    
    Because $C\subseteq X\times Y$ the leaves of $C$ coming from the vertical foliation as a square complex are equal to the connected components of the fibers from projecting $C$ to the $X$ coordinate, however by Guirardel the latter are connected. Collapsing leaves then is the same as collapsing connected fibers which gives projection to the $X$ factor. On the other hand, as \(C\) is a cover of \(C/G\) we get that \(C\) is also a graph of spaces. In this case, the edge and vertex spaces of \(C\) correspond to certain fibers from the foliation. Therefore, the Bass-Serre map from \(C\) given by collapsing vertex spaces to a point and mapping edge spaces to edges is the restriction of the projection map. With the product action projection is \(G\)-invariant and \(X\) is minimal so the image of the Bass-Serre map is all of \(X\). Hence, the \(G\)-tree \(X\) matches the Bass-Serre tree for the horizontal splitting of \(C/G\) where we collapse the vertical fibers. In a similar way, \(Y\) is the Bass-Serre tree of the vertical splitting of \(C/G\).
    
    
\item $3\Rightarrow 2$: 

    We have \(\widetilde K\) and its vertical and horizontal foliations. Collapsing
leaves to points gives \(G\)-maps \(\widetilde K\) to \(X\) and \(\widetilde K\) to \(Y\). These are the
Bass-Serre maps. The product map gives a map from \(\widetilde K\) to \(X\times Y\).

\begin{claim*} This map is 1-1.
\begin{proof}

It's enough to be 1-1 on vertices. Suppose \(v\), \(v'\) go to the same
vertex of \(X\times Y\). This means \(v\), \(v'\) are on the same leaf of the vertical foliation, and are also on the same leaf of the horizontal foliation.
Call these leaves \(V_v\) and \(H_v\).
By Lemma 3.7 of Wise in \cite{wisecsc}, the intersection of \(V_v\) and \(H_v\) is at most
one point. (Remark: the lemma says exactly one point, for \(\widetilde K\) a CSC.
But for "at most one point", it only needs that \(\widetilde K\) is VH and CAT(0),
not complete.) Hence \(v = v'\).
\end{proof}
\end{claim*}

Both \(\widetilde K\) and \(X\times Y\) are CAT(0) square complexes, and we regard \(\widetilde K\) as a
subcomplex that is invariant under the product \(G\)-action on \(X\times Y\). The
action on \(\widetilde K\) is free because it is a covering space action.

By Cor 5.2 of Haglund in \cite{haglundss} if \(G\) acts on a CAT(0) cube complex \(X\)
without inversions then every element either has a fixed vertex or a
combinatorial axis, and not both.

Now take any non-trivial \(g \in G\). Acting on \(\widetilde K\), it has a combinatorial
axis \(L\), because the action is free. But \(L\) is also a combinatorial axis
in \(X\times Y\). By the lemma, \(g\) acting on \(X\times Y\) cannot fix a vertex.
So, no non-trivial element fixes a vertex of \(X\times Y\). Hence \(G_x \cap G_y =
1\) for all vertices \(x \in X\), \(y \in Y\).
    
\end{proof}
\end{thm}


\chapter{Notions of convexity in products of trees}

This section shows how fibers, quadrants, and orthants relate to each other. Later, we will use the fact that an object has connected fibers to conclude it's quadrant convex, and therefore simply-connected.

\begin{dfn}
    [Quadrant Convex]
    A subset \(S \subset T_1\times T_2\) is \emph{quadrant convex} if the complement is the union of quadrants. The \emph{quadrant hull} of a set \(S\) is the smallest quadrant convex subset containing \(S\) or it's the intersection of all quadrant convex subsets containing \(S\). Equivalently, it's the complement of the union of all quadrants disjoint from \(S\). 
\end{dfn}

\begin{dfn}
    [Fibers in trees]
    \label{dfn:treefibers}
    A \emph{fiber} of a product of trees is the inverse image of a point under a projection map; e.g. \( \pi_1^{-1}(x) = \{x\} \times Y\) is a fiber of \(X\times Y\). A \emph{one-dimensional fiber} of a product of three trees is the inverse image of a point under a map \(\pi_{jk}: T_1\times T_2\times T_3 \to T_j\times T_k\) given by \(p = (p_1,p_2,p_3) \mapsto (p_j, p_k)\). We use similar terminology for subsets of tree products, that is a one-dimensional fiber of a subset of a product of trees is the intersection of that subset with a one-dimensional fiber of the product.
\end{dfn}

\begin{lem}
	[Guirardel Lemma 5.4, Corollary 5.5]
    \label{lem:guirardel} 
	Let \(T_{1} , T_{2}\) be two \(\mathbb{R}\)-trees and let \(F\) be a nonempty connected subset of \(T_{1} \times T_{2}\) with convex fibers. Then the complement of \(\overline{F}\) is a union of quadrants. That is, \(\overline{F}\) is also nonempty, connected, and has convex fibers.
\end{lem}

\begin{thm}
    [Equivalent Quadrant Convex Condition]
    \label{thm:guirardelsliceconvex}
    Let \(X\) and \(Y\) be two simplicial trees and \(F\subset X\times Y\) a closed subset. Then \(F\) is quadrant convex if and only if all of its fibers are connected.
    \begin{proof}
        Follows immediately from Lemma 5.4 from \cite{guirardelcorepaper} and the fact that  quadrant convex implies connected fibers.
    \end{proof}
\end{thm}

\begin{dfn}
    [Orthant Convex]
    A subset \(S\) of a product of three trees is \emph{orthant convex} if its complement is a union of orthants.
\end{dfn}

\begin{dfn}
    [Orthant Slice Convex]
    A subset \(S\) of a product of three trees is \emph{orthant slice convex} if its fibers are quadrant convex.
\end{dfn}

\chapter{Building the orthant hull}

In this section we work by analogy with Guirardel's results on connected fibers and quadrant hulls. To create a quadrant hull one can either work subtractively by taking away quadrants or additively by adding material to connect fibers. We will work one dimension up with orthants instead of quadrants. Though we never actually take an orthant hull, we will by analogy build up an object by filling in fibers.

\begin{prop}
    [Slices are connected]
 \label{prop:fibershomeoplanes} 
    Put \(f =  f_{1} \times f_{2} \times f_{3}: X \to T_{1} \times T_{2} \times T_{3} \) and \(J = \text{Im}(f)\). We claim that \(J \cap T_{1} \times T_{2} \times \{z\} = \text{Im}_{f} ({ f_{3}}^{-1}(z))\). Let \(p = (p_{1}, p_{2} , p_{3}) \in T_{1} \times T_{2} \times T_{3}\) then we have the following. 
    \begin{align*}
        p \in \text { LHS } & \Longleftrightarrow p \in \text{Im}(f) \wedge p_{3} = z \\ 
        & \Longleftrightarrow \exists x \in X (f(x)=p \wedge  f_3(x)=z)\\
        & \Longleftrightarrow \exists x \in X (f(x)=p \wedge x \in f_3^{-1} (z))\\
        & \Longleftrightarrow p \in \text{Im}_f(f_3^{-1} (z))
    \end{align*}
\end{prop}

\begin{dfn}
    [Subgraph Coning]
    \label{dfn:subgraphconing}
    Let \(X\) be a 2-complex with a \(G\)-action. Let \(T\) be a simplicial \(G\)-tree. Let \(f:X\to T\) be a map. Let \(K\) be a subgraph of the 1-skeleton of \(X\). Then the subgraph cone of \(f\) with \(K\) denoted \(\Lambda(f, K)\) is the set \[X \bigsqcup \left(G\times C_K\right)\] modulo the relation sending \((g, (x,0))\) to \(g\cdot x\) where \(C_K\) is the set \[ K\times [0,1]\] modulo the relation that glues \((x,1)\) to \((x', 1)\) if and only if \(f(x) = x'\). 
\end{dfn}

\begin{dfn}
	[Filling]
	\label{defn:filling}
    Given \(S \subseteq X := X_1\times X_2\times X_3\) define \(S_{k}\) for \(k \in \{1,2,3\}\) via: 
    \[
        p \in S_{k} \iff \exists 
        \,q,r\in S\, \forall j\in K: j\neq k 
        \Longrightarrow ( p_{j} = q_{j} = r_{j}
        \text{ and } p_{k} \in \text{cvxhull}_k (\{q_{k} , r_{k}\}))
    \] 
    where \(\text{cvxhull}_k\) is the convex hull operation on subsets of \(X_k\).
\end{dfn}

\begin{dfn}
    [Property CCP: Connected in coordinate planes]
    \label{defn:ccp} 
    Let \(S \subseteq X_1\times X_2\times X_3\). Then \(S\) is connected in all coordinate planes if \(S \cap \pi_{k}^{-1} (p)\) path is connected for all \(p \in X_{k}\) for all \(k\in \{1,2,3\}\).
\end{dfn}




\begin{lem}
    [Coning Connected Fibers]
    \label{lem:confib} 
     Let $f:K\to T$ be a map from a 2-complex $K$ to a simplicial tree $T$ with connected fibers. Let $\Gamma$ be a connected subgraph of $K^{(1)}$, the 1-skeleton of $K$. Pick $t_0\in f(\Gamma)$. Define $F:\Gamma\times I\to T$ by,
    \[ F(x,s) = 
            \gamma_{f(x),t_{0}} (s ) 
    \]
    where $\gamma_{x,y}$ is the embedded path between $x,y\in T$ with domain $[0,1]$ of constant speed or a constant map if $x=y$. Then the map $F$ is continuous and points have connected preimages.
    \begin{proof}
        Let $(x,s)$ be an arbitrary point in $\Gamma \times I$. Put $t:=F(x,s)$. We will show there is a path in $\Gamma\times I$ from $(x,s)$ to some $(x',0)\in \Gamma\times I$ that stays inside of the point preimage $F^{-1}(t)$. This is enough because $f$ already has connected preimages in $K$ and $F(x,0)=f(x)$.
        
        If $s=0$ then the constant path at $(x,s)$ suffices. 
        
        If $s=1$ then \(t=F(x,s)=F(x,1)=\gamma_{f(x),t_0}(1)=t_0\). We can take a path that runs along the top of $\Gamma\times I$ and then goes down using a vertical fiber. Since $t_0\in f(\Gamma)$ there exists some $z\in \Gamma$ such that $F(z,0)=t_0=t$. Take $g$ to be the concatenation of a path from $(x,1)$ to $(z,1)$ contained in $\Gamma\times \{1\}$ and the path $(z,1)$ to $(z,0)$ given by $t\to (z,1-t)$. When restricted to a vertical fiber, $F$ is either injective or a constant map. Since $F(z,0)=F(z,1)=t_0=t$ we have the image of our path lies in $F^{-1}(t)$ as desired.
        
        Suppose $0 < s < 1$. Consider the image of $x\times I$, a fiber of the product $\Gamma \times I$, under $F$. Denote the map $\gamma_{f(x),t_0}$ by $\gamma$. From the definition of $\gamma$, the fiber $x\times I$ is either sent to a single point or goes injectively to $T$. In the former, we take $g$ to be the straight path from $(x,s)$ to $(x,0)$.
        
        Finally, suppose the fiber $x\times I$ goes injectively to $T$. In this case, $F(x\times I) = \Imm(\gamma)$, recall $\gamma$ is a reparameterized geodesic between two points in $\Imm(f)$ which by the continuity of $f$ is both connected and convex in $T$. Hence, $t \in \Imm(f)$ by convexity. This means $f^{-1}(t)$ is a non-empty closed subset of $K$. Let $x'\in f^{-1}(t)$ be a point that minimizes $d_K(x,x')$. The distance cannot be zero because our fiber goes injectively. Hence, the distance is positive, so $x\neq x'$. 
        
        Take $\eta$ to be an geodesic path in $K$ from $x$ to $x'$. The image of $\eta$ is disjoint from $f^{-1}(t)$.
        
        Hence for $r \in [0,1]$, the geodesic from $f\eta(r)$ to $t_0$ contains $t$. In fact, $d_T(f(k), t)+d_T(t, t_0) = d_T(f(k), t_0)$ for $k\in\Imm(\eta)$. Define a function $g:\Imm(\eta)\to I$ by $g(k)=d_T(f(k), t)/d_T(f(k), t_0)$. The function $g$ is continuous and so the graph of $g$ is connected, contained in $F^{-1}(t)$, and contains $(x,s)$ and $(x',0)$. That is, the path $\eta(r)\times g(\eta(r))$ connects our preimage point to a connected fiber below.
    \end{proof}
\end{lem}


\begin{lem}
    [Reduction to vertical subpath]
    \label{lem:verticalsubpath} 
    Suppose \(S \subseteq T_{1} \times T_{2} \times T_{3} \) is a subcomplex with CCP. Let \(p,q,r \in S\) satisfy
    \begin{enumerate}
        \item \(r \not\in S\) 
        \item \(p,q \in S\) 
        \item \(p_{2} = q_{2} = r_{2}\) and \(p_{3} = q_{3} =r_{3}\)
        \item \(r_1 \in \text{cvx}_{T_{1}} (\{p_1,q_1\}) \) 
    \end{enumerate}
    then there is a path \(\sigma: [0,1] \to S\) between \(p\) and \(q\) such that \(\sigma(t)\) is contained in \(S \cap (T_{1} \times \{r_{2}\} \times \delta)\) where \(\delta\) is an open direction in \(T_{3}\) at \(r_{3}\) provided \(t \neq 0,1\).

    \begin{proof}
        Property CCP implies that \(S \cap (T_{1} \times \{r_{2}\} \times T_{3} )\) is path connected. Let \(\sigma\) be a path in that set from \(p\) to \(q\). Consider the pre-image of \(T_{1} \times r_{2} \times r_{3}\) by \(\sigma\), call it \(K\). Note that the complement of \(K\) is a countable disjoint union of open intervals in \([0,1]\) -- we will choose one later. 
\begin{figure}[htp]
    \centering
    \includegraphics[width=10cm]{planar_version.png}
    \caption{Possible configuration when $T_1$ and $T_3$ are both $\mathbb{R}$. Note, interval length on the LHS may not correspond to path length on the RHS. The curve may not even be rectifiable. In general, the set on the LHS may not be discrete as drawn; it may include limit points or closed intervals.}
    \label{fig:square}
\end{figure}
        Each open interval is connected so considering projection and the fact that \(r_{3}\) is separating in \(T_{3}\) we have that under \(\sigma\) each open interval is mapped so the third coordinate lies in a single direction of \(T_{3}\) at \(r_{3}\). After identifying, \(K\) maps into \(T_{1}\). Color the points of \(K\) by which direction at \(r_1\) in \(T_{1}\) they map into. Here we use the fact that \(\sigma\) is a path that is disjoint from \(r\). In fact, because \(S\) is a subcomplex it is closed and so there is an open neighborhood of \(r\) that is disjoint from \(S\) and therefore also  \(\sigma\). Intersecting this neighborhood with \(T_{1} \times r_{2} \times r_{3}\) gives an open neighborhood in \(T_{1}\) that is disjoint from \(\sigma\). 
\begin{figure}[!h]
    \centering
    \includegraphics[width=10cm]{path_away_r.png}
    \caption{The path $\sigma$ avoids a neighborhood of $r$.}
    \label{fig:square}
\end{figure}
\begin{figure}[!h]
    \centering
    \includegraphics[width=6cm]{tree_version.png}
    \caption{Sketch of a possible configuration for the general tree case. In actuality, the blue line would have to pass through the middle prongs in order to reach other directions.}
    \label{fig:square}
\end{figure}
        The upside is that each monocolored subset of \(K\) is closed by looking at the image of \(\sigma\) in the slice and taking intersections with a closed halfspace pointing away from \(r_{1}\). Take the smallest pairwise distance between the finite number of colored closed sets. This distance is non-zero because \(\sigma\) is disjoint from a neighborhood of $r_1$ in $T_1$. Consider two points in \(K\) that achieve that distance. There cannot be any points of \(K\) between them because we chose the smallest distance. This picks out an interval with endpoints that map to different directions as needed.
     \end{proof}
\end{lem}


\begin{lem}
    [Switching]
    \label{lem:switching} 
    Let \(S \subseteq T_1\times T_2\times T_3\) be a subcomplex that is connected in all coordinate planes \ref{defn:ccp}. Then \(S_{x}, S_{y},\) and \(S_{z}\) are as well. 
    \begin{proof}
    
    
    \begin{figure}[!h]
    \centering
    \includegraphics[width=6cm]{switching.png}
    \caption{The goal is to show the green interval contained in the $xy$-plane between $r$ and a point in $\sigma$ is in $S_x$. This connects points in $yz$-planes to $S$.}
    \label{fig:square}
\end{figure}
    
        Without loss of generality, consider \(S_{ x}\), note that \(S_{x}\) will be connected in all \(xy\) and \(xz\) planes because \(S\) was. Consider the \(yz\)-planes in \(S_{x}\), if there were no new points added then the planes are connected and we are done. Suppose that \( p \in (S_{x} \smallsetminus S ) \cap \pi^{-1} _{1} (p_{1} )\), we need to connect \(p\) to a point in \(S\). We will show that there is a path in \(S_{x} \cap \pi_{2}^{-1} (p_{2} )\) between \(p\) and some point in \(p' \in S\).
       
        Since \(r\) is in \(S_x \smallsetminus S\) there exist distinct points \(p\) and \(q\) in \(S\) that agree in all coordinates except the first where we have that \(r_{1} \in \text{cvxhull}_{T_{1}}  (\{p_{1} , q_{1}\})\). Now, because \(S\) is connected in all coordinate planes there is a path \(\sigma\) from \(p\) to \(q\) that lies in \(S \cap \pi_{2}^{-1} (r_{2})\). In fact, we can take \(\sigma\) to be a path that begins at \(p\) and ends at \(q\) with \(T_{3}\) coordinates lying in exactly one closed direction of \(T_{3}\) at \(r_{3}\). We have factored out this situation into claim \ref{lem:verticalsubpath}.  

        Take \(\sigma\) as in the claim \ref{lem:verticalsubpath}. Consider \(D = r_1 \times r_{2} \times \overline \delta\) a closed set. Let \(A\) be the set of points where \(\sigma\) crosses \(D\). Note, $A$ does not include the root of $\delta$. This is a closed set so we can consider the preimage under \(\sigma\) and look at the complement in \([0,1]\). Color each interval by the direction in \(T_{1}\) at \(r_{1}\) that \(\pi_{1} \sigma\) takes it to. Now, identifying \(D\) with a closed direction at \(r_3\) in \(T_3\) we say that the colors at \(x \in D\) are the set of colors of intervals that the preimage of \(x\) under \(\pi_{3} \sigma\) hits.

\begin{figure}[!h]
    \centering
    \includegraphics[width=6cm]{interval_coloring.png}
    \caption{A possible configuration}
    \label{fig:square}
\end{figure}
\begin{figure}[!h]
    \centering
    \includegraphics[width=6cm]{separation.png}
    \caption{A finite number of monocolored points separating the root from $A$.}
    \label{fig:square}
\end{figure}
\begin{figure}[!h]
    \centering
    \includegraphics[width=6cm]{multicolored.png}
    \caption{Matching the previous figure, notice the left branch is not multicolored. A particular multicolored path is highlighted.}
    \label{fig:square}
\end{figure}


        Our goal is to find a geodesic from the root of \(D\) to a point in \(A\) that is multicolored. Note, because points in trees are separating, if the image of a continuous map contains two points it also contains the geodesic between those points. Suppose the claim were false. Then between every point of \(A\) and the root there is a point that is monocolored. A finite number of these points suffices to separate all of \(A\) from the root. Consider the first interval, it must cross one of these points. There must be another interval that eventually leaves that half space and enters a halfspace not entered yet. Because the geodesics have one color, and we always cross a monocolored point upon leaving, each segment has the same color. Including the last segment that goes back to the root. But this is impossible because we assumed the path begins and ends in different directions in \(T_{1}\) at \(r_{1}\).

    \end{proof}
\end{lem}

\begin{pro}
\label{prop:directionunion}
Let $T_1$ and $T_2$ be trees with $x_2\in T_2$. Then $$T_1\times x_2 = \bigcup_{\delta \in D(x_1)} \overline{\delta}\times \{x_2\}.$$
\end{pro}


\begin{prop}
\label{prop:sliceunion}
\[ \left(T_1 \times T_2\right) \smallsetminus \left(T_1\times x_2\right) = \bigcup_{\delta\in D(x_2)} T_1\times \delta\]
\end{prop}


\begin{lem}
    [Slice Switching]
    \label{lem:sliceswitching}
    If \(R \subseteq T_{1} \times T_{2}\) is connected then \( \left( R_{x} \right)_{y} = \left( R_{y} \right)_{x}\) where $x$ corresponds to $T_1$ and $y$ corresponds to $T_2$ in the definition of filling \ref{defn:filling}.
    \begin{proof}
        We first show that $\rxy$ has connected 1-dimensional fibers. The set $\rxy$ has connected $x$-fibers, this follows from the definition of filling in the $y$-direction. That is, $\left( R_{x} \right)_{y} \cap \{x_0\} \times T_2$ is connected for all $\{x_0\}$ in $T_1$. It remains to show that \(\rxy\) has connected $y$-fibers.
        
        For sake of a contradiction, suppose \(\rxy\) had a disconnected $y$-fiber at $y_0$, denoted $F$. That is, there exists $y_0$ such that \(F = \left( R_{x} \right)_{y}\cap T_1 \times \{y_0\}\) is disconnected. Because we are working in a tree we can find a point \(x_0\in T_1\)  such that \((x_0,y_0)\)  separates \(F\). Using \ref{prop:directionunion} we proceed by cases on how many directions meet $R_x$. Specifically, subtract \((x_0,y_0)\) from both sides of \ref{prop:directionunion} to obtain a disjoint union of sets and ask how many intersect $F \cap R_x$.
        
        \begin{enumerate}
            \item zero: Suppose \(F\cap R_x \cap (\delta \times y_0)=\varnothing\) for all \(\delta\in D(x_0)\) then by \ref{prop:directionunion}, $R_x \cap F=\varnothing$. However, the fiber is still disconnected so must intersect some of $\rxy$. This means there exists $p\in (F\cap \rxy)\smallsetminus R_x$. That is, $p$ was obtained by filling in the vertical ($y$, $T_2$) direction. There exist $\eta_1, \eta_2\in D(y_0)$ such that $F\cap R_x \cap (p_1 \times \eta_k) \neq \varnothing$ for $k=1,2$. By \ref{prop:sliceunion} \(F\cap R_x \cap (p_1 \times \eta_1)\subset T_1\times \eta_1\) and \(F \cap R_x \cap (p_1 \times \eta_2)\subset T_1\times \eta_2\) are disjoint. Pick out points in each, since they are in $R_x$ they are either already in $R$ or were obtained by filling in the $x$-direction. Hence, $F\cap R_x \cap (T_1\times \eta_1)$ and $F\cap R_x \cap (T_1\times \eta_2)$ both intersect $R$. However, these are disjoint and $R$ is connected a contradiction.
            \item at least two: Suppose \(F\cap R_x\cap(\delta_k \times y_0)\neq\varnothing\) for $k=1,2$ with $\delta_k\in D(x_0)$. Then because $R_x$ has connected $y$-fibers we have that $(x_0,y_0)\in R_x\subset \rxy$ which is a contradiction since $(x_0,y_0)$ separates $F$.
            \item exactly one: Suppose \(F\cap R_x\cap(\delta_0 \times y_0)\neq\varnothing\) and $\varnothing$ for all $\delta_k\in D(x_0)$ where $k\neq 0$. Since $\delta_0\times y_0$ intersects $R_x$ it also intersects $R$. Consider the sets $(x_0\times \eta)$ for $\eta\in D(y_0)$, at most one intersects $R_x$. If more than one did then because $\rxy$ has connected $x$-fibers we would have $(x_0,y_0)\in\rxy$ a contradiction since $(x_0,y_0)$ separates $F$. Because $F$ is disconnected, there exists $\delta_1\in D(x_0)$ with $\delta_1\neq d_0$ and $(\delta_1\times y_0)\cap F\neq \varnothing$. Combined with our assumption, pick a point $p\in (\delta_1\times y_0)\cap F\smallsetminus R_x$. Now, $p\in\rxy\smallsetminus R_x$ so there exist directions $\eta_1,\eta_2\in D(y_0)$ such that $(p_1\times \eta_i)\cap R_x\neq\varnothing$ for $i=1,2$. From above, take $\eta_1$ to be one of the directions such that $(x_0\times \eta_1)\cap R_x =\varnothing$. Suppose $q\in (p_1\times \eta_1)\cap R_x$. If $q\in R$ take $x'=q_1$. If $q\not\in R$ then we use the fact that $q\in R_x\smallsetminus R$ to find a point in $R$. We can take $x'\in \omega$ where $\omega$ denotes a direction in $D(p_1)=D(q_1)$ that does not contain $\delta_0$ with the property that $(x',q_2)\in R$. Then $(x', q_2)\in \delta_1\times \eta_1$ and $(x',q_2)\in R$, however the boundary of the quadrant $(\delta_1\times y_0)\cup (x_0\times \eta_1)$ does not intersect $R_x$ and so separates $(x',q_2)\in R$ from a point in $R\cap (\delta_0\times y_0)$. This is a contradiction since $R$ is connected.
        \end{enumerate}
        Hence, the set $\rxy$ has connected 1-dimensional fibers. By Guirardel \ref{lem:guirardel} then the complement of $\rxy$ is a union of quadrants and so $\text{QH}(R)\subset \rxy\subset \text{QH}(\rxy)$. Next note that $\text{QH}((R_y)_x)=\text{QH}(R_y)=\text{QH}(R)=\text{QH}(R_x)=\text{QH}((R_x)_y)$. Therefore, $\rxy =\text{QH}(R)=\ryx$.
        
        
        
        \begin{figure}[htp]
    \centering
    \includegraphics[width=8cm]{slice_lemma_case3.png}
    \caption{Illustrating case 3 of Lemma \ref{lem:sliceswitching}}
    \label{fig:square}
\end{figure}
        
        
        
                  
    \end{proof}
\end{lem}

\chapter{Proof of main theorem}

Starting with the hypotheses from the main theorem, this section breaks the proof into pieces.

\section{Setup}

Suppose for sake of a contradiction that there were three non-trivial \(G\)-trees \(T_{1}\), \(T_{2}\), and \(T_{3}\) of finite type \ref{defn:finitetype} that are pairwise transverse \ref{defn:transverse} and no two are in the same deformation space. Transversality and finite quotients are preserved by deformations. Therefore, by \ref{reducedcocompact}, without loss of generality we may assume that these are minimal \(G\)-trees after performing a sequence of elementary deformations. 

\section{Construct square complex with two splittings and given fundamental group}

Applying the transverse construction lemma \ref{pro:transverseconstruction} we obtain \(X_{12}\). For now think of $X_{12}$ as a square complex that encodes the two $G$-trees $T_1$ and $T_2$ with fundamental group $G$.

\section{Construct CCP set}

        The content of this technical lemma is that maps from a 2-complex that are constant on leaves can be extended to a map with connected fibers by enlarging the 2-complex.
        \begin{lem}
            \label{lem:guirardel-extension}
            (Lemma 8.9 in Guirardel)
            Consider a geometric action of a finitely generated group \(G\) on an \(\mathbb{R}\)-tree \(T\), and let \(X\) be a 2-complex endowed with a free properly discontinuous cocompact action of \(G\). Let \(\mathscr{F}\) be a \(G\)-invariant measured foliation on \(X\). Consider a map \(f: X \to T\) which is constant on leaves of \(\mathscr{F}\), and isometric in restriction to transverse edges of \(X\). Then there exists a 2-complex \( X'\) containing \(X\), endowed with a free properly discontinuous cocompact action of \(G\), a measured foliation \(\mathscr{F} '\) extending \(\mathscr{F}\), and which induces an isometry between \(X'/ \mathscr{F}'\) and \(T\). Moreover, the inclusion \(X \subseteq X'\) induces an epimorphism of fundamental groups.
        \end{lem}
        
\begin{lem}
[Technical assumptions for Guirardel]
    \label{lem:technicalconditions}
 The following properties hold for \(\widetilde{ X_{12} }\) and the map \(f_{123}: \widetilde{ X_{12}}\to T_3\) constructed via  \ref{lem:affineequivariantmap}. The action of \(G\) on \(T_3\) is geometric. The action of \(G\) on \(X_{12}\) is free, properly discontinuous, and cocompact. (Compare to \ref{lem:guirardel-extension})
    
    \begin{proof}
        Our trees are simplicial and the actions are minimal, hence by \ref{lem:simpgeo} they are also geometric. The action on \(X_{12}\) is a covering space action from \ref{pro:transverseconstruction} and is therefore free, properly discontinuous, and cocompact.
    \end{proof}
\end{lem}

        Let \(\widetilde {X_{12}}\) denote the universal cover of \(X_{12}\).  Applying the affine equivariant map construction \ref{lem:affineequivariantmap} to the actions on \(\widetilde {X_{12}}\) and \(T_{3}\) gives an equivariant  map and a foliation that we denote by \(f_{123}\) and \(\mathscr{F}_{123}\) respectively. Moreover these satisfy enough technical conditions 
        \ref{lem:technicalconditions} for us to apply the Guirardel Extension Lemma \ref{lem:guirardel-extension} to obtain \(\widetilde{X_{12}}^{+}\) and \(f_{123}^{+}\) and \(\mathscr{F}_{123}^{+}\).

        Next, let  \(f_{121}\) and  \(f_{122}\)  denote the Bass-Serre \ref{defn:bsmap} maps from \(\widetilde {X_{12}}\) to \(T_{1}\) and \(T_{2}\) respectively. 
        
        Our goal is to produce a map from \(\widetilde {X_{12}}^+\) to \(T_1\times T_2\times T_3\). The map \(f_{123}^+\) is already defined on all of \(\widetilde {X_{12}}^+\), so it remains to extend the Bass-Serre maps \(f_{121}\) and \(f_{122}\). By construction, \(\widetilde {X_{12}}^+\) has the form of a \(\Lambda(f_{123}, K)\) from \ref{dfn:subgraphconing} for some choice of \(K\). Once we know that the extension has this graph coning structure we can extend the Bass-Serre maps to \(\widetilde {X_{12}}^+\) by applying \ref{lem:confib}. This gives extensions \(f_{121}^{\wedge}\) and \(f_{122}^{\wedge}\) and foliations \(\mathscr{F}^{\wedge}_{121}\) and \(\mathscr{F}^{\wedge}_{122}\). Form the product map \(f:= f_{121}^{\wedge} \times f_{122}^{\wedge} \times f_{123}^{+}\). Finally, define \(J := \text{Im}(f) \subset T_1\times T_2\times T_3\). Each map is invariant so \(G\) acts on \(J\). Since \(J\) is the image of a cocompact set under a continuous \(G\)-map it is cocompact. By \ref{prop:fibershomeoplanes} \(J\) has property CCP.
        
        \begin{rmk}
            The following is an explanation of where the graph \(K\) is used or not used in this proof. In short, for \(G\) finitely presented Guirardel's proof picks a specific compact subgraph of the 1-skeleton \(K\) that is large enough to make \(\widetilde {X_{12}}^+\) simply connected. Strictly speaking, we do not need to know the nature of \(K\), only that the extension has some graph coning structure so we can extend the Bass-Serre maps.
        \end{rmk}
        
        \begin{rmk}
            
        The following is an informal sketch of what Bass-Serre maps look like during this proof. In our case \(\widetilde {X_{12}}\) is a VH-complex so edge and vertex spaces are graphs. Each square has a vertical and horizontal foliation. When $x$ is a vertex or a point on a horizontal edge, call the subset we get from extending the vertical foliation $V_x$. Then collapsing all the $V_x$ spaces to a point gives the map to $T_1$ called \(f_{121}\) defined above as the Bass-Serre map
        \end{rmk}
    
        
        
        
        
        
        
        
        
        
    \section{Take cellular neighborhood}
        
\begin{lem}
    [Cell Respects Slices]
    \label{lem:cellrespecslice} 
    If $A\subset T_1\times T_2\times T_3$ is CCP and \(A\) is path connected then $\text{cell}(A)$ is also CCP.

    \begin{proof}
        Let \(z\in T_3\). Pick \(p,q\in \text{cell}(A)\cap (T_1\times T_2\times \{z\})\). For a product of trees, the closure of a cell is a subcomplex. For all \(p\) in \(\text{cell}(A)\) there exists a cell \(P\) and a point \(p'\in A\) such that \(p' \in P\) and \(p\) is in the topological closure of \(P\). Similarly for \(q\), \(q'\), and \(Q\). Since \(p\) and \(p'\) are contained in a closed \(n\)-cube but \(p\) in \(P\), we have that \(d_{T_3}(p_3,p'_3)<1\). Throughout, remember that if \(p'_3\) is a vertex, then \(p'_3 = z\). Similarly for \(q'_3\). This ensures that later when points are pushed along an edge the result remains within \(\text{cell}(A)\).  Note, closed cubes project to closed cubes in \(T_3\). Since \(p3=q3=z\) the projections of \(\text{cl}(P)\) and \(\text{cl}(Q)\) are closed cubes in \(T_3\) both containing \(z\).
        
        Let $\eta'$ be a path in \(A\) from \(p'\) to \(q'\). The goal is to create a modified path \(\eta\) such that \(d_{T_3}(\pi_3\eta(t), z) <1\). Points in \(\pi_3\eta'\) that are not vertices of \(T_3\) but lie in \(A\) can be pushed to a new path \(\eta\) in \(\text{cell}(A)\cap(T_1\times T_2\times \{z\})\). 
        
        Using the CCP property of \(A\), for a given point \(r\in T_3\) we can note the first and last time a path enters the slice \(T_1\times T_2\times \{r\}\) and replace that (possibly degenerate) segment by a path contained in \(A\cap T_1\times T_2\times \{r\}\). Call this a path snip. (For the degenerate case, concatenate paths instead)
        
        Consider the following cases.
        \begin{enumerate}
            \item \(p'_3=q'_3\): Use the CCP property of \(A\) to draw a path \(\eta\) contained in the slice \(A\cap (T_1\times T_2\times \{z\})\).
            \item \(p'_3\neq q'_3\) and \(z=p'_3\) or \(z=q'_3\): Snip at \(p'_3\) and at \(q'_3\). This limits the path to one edge and prevents it from wandering when \(z\) is a vertex of \(T_3\).
            \item \(p'_3\neq q'_3\) and \(z\in [p'_3,q'_3]\smallsetminus\{p'_3,q'_3\}\): As before, begin by snipping at \(p'_3\) and \(q'_3\). This case includes the situation where \(z\) is a vertex of \(T_3\) lying between \(p'_3\) and \(q'_3\). This allows a path to wander arbitrarily far from \(z\) in \(T_3\). To prevent this, we also snip at \(z\).
        \end{enumerate}

If necessary, use the open cells containing \(p'\) and \(q'\), to draw paths  to \(p\) and \(q\). Require the interior of their domains to map to \(P\) and \(Q\) respectively so their \(T_3\) coordinates remain close to \(z\). Concatenate with \(\eta'\) to create a new path from \(p\) to \(q\). Denote this path by \(\tau\) and form \(t\to (\tau_1(t), \tau_2(t), z)\) a path from p to q contained in \(\text{cell}(A)\) as \(\tau\) was contained in \(A\) and remained close to \(z\).
    
    \end{proof}
    
    
\end{lem}

        
        
        Next, define \(K := \text{cell}(J)\). As \(J\) is \(G\) invariant so is \(K\).  Because our trees are locally finite and a cellular neighborhood is contained in a bounded neighborhood we have that \(K\) is cocompact. Taking a cellular neighborhood respects slices by \ref{lem:cellrespecslice}  so \(K\) has property CCP as well.

\section{Filling}

Filling is a way to ensure an object has connected 1-dimensional fibers; at least in the direction of the filling. Each time you fill, material is added that could in principle create disconnected fibers in the other two  directions. Here we apply the switching lemma \ref{lem:switching} in the context of the extended core construction so this does not happen and we obtain an object with connected 1-dimensional fibers. We also verify cocompactness.

\begin{lem} 
[Filling preserves cocompactness]
\label{lem:fillingcocompact}
    Let $T_1,T_2,T_3$ be simplicial $G$-trees that are pairwise transverse and $S\subset T_1\times T_2\times T_3$ an invariant cocompact subcomplex. Then $S_x$ is also cocompact.
\begin{proof}
    Observe that $S\subseteq T_1\times B$ where $B=\pi_{23}(S)$. Under the product action $B$ is an invariant set. Projection is a continuous map so $B$ is cocompact. Next, consider a one-dimensional fiber of $S$ above a point, that is $S' = S\cap (T_1\times \{b\})$ where $b\in B$ is a vertex. Because $T_2$ and $T_3$ are transverse the stabilizer of $b$ is trivial. Hence, the quotient map on the one-dimensional fiber $S'$ is an embedding into a compact set $S/G$. Hence, $S'$ is also compact. For each vertex $b\in B$ consider the one-dimensional fiber $S\cap (T_1\times \{b\})$, the action in $T_1$ is by simplicial automorphisms so distances are preserved. Hence, every one-dimensional fiber in an orbit has the same finite diameter. Because $B$ is cocompact there are a finite number of vertex orbits and therefore a universal bound on the diameters of one-dimensional fibers above vertices. After identifying a one-dimensional fiber with $T_1$ we see that each vertex of $S_x$ is obtained by filling in the convex hull of some one-dimensional fiber; more precisely, if $v\in S_x$ then for some $b\in B$ a vertex, $v_1\in \text{cvx}(\pi_1(S\cap(T_1\times \{b\})))$ where $v_1$ is the first coordinate of $v$.) In particular, $S_x$ is contained within a bounded neighborhood of $S$ with the product metric. Since $S$ was a subcomplex, so is $S_x$. Hence, $S_x$ is cocompact.
    % (We are relying on $S_x$ being a subcomplex so that we can prove that it is cocompact by saying there are a finite number of vertex orbits in $B$ and each element of an orbit has a universally bounded number of vetices) ((Could also argue that this si cocompact by saying in the product metric - really just one factor - it's a subcomplex contained in a bounded neibhorhood))
\end{proof}
\end{lem}

To finish the construction of the extended core, repeatedly apply lemma \ref{lem:fillingcocompact} and use the fact that filling preserves CCP  by construction to get that \(E:= Kxyz\) is cocompact and has CCP. By switching \ref{lem:switching} \(E\) has connected 1-dimensional fibers. 

\section{Topological properties of the Extended Core}

Here we explain why the definition of VHD-complex is an appropriate generalization of a VH-complex and verify that \(E\) is a universal cover.

\begin{dfn}
    [VHD-Complex]
    \label{dfn:vhd}
    We say \(X\) is a VHD-complex if it's a 3 dimensional cube complex with simplicial links and two-sided hyperplanes where edges are labelled one of V, H, or D and parallel edges have the same label.
\end{dfn}

To start, \(T_1\times T_2\times T_3\) has a natural VHD-complex structure with \(E\) as a \(G\)-invariant subset. The action is a product action so orbits of edges remain in the same parallelism class, therefore the quotient inherits the VHD-complex labeling. The tree actions do not have any inversions and therefore \(E\) and the quotient \(E/G\) have two-sided hyperplanes. Hence, \(E\) and \(E/G\) are VHD-complexes.


\begin{rmk}
    Our definition of VHD-Complex does not require that hyperplanes are injective on fundamental groups, only that hyperplanes are two-sided. The injectivity property is  however needed to obtain an honest graph of groups decomposition. For the VHD-Complex \(E/G\) we are considering the injectivity property follows from fact that there is a universal cover \(E\) with simply-connected hyperplanes. For comparison, in dimension two, for a VH-Complex the injectivty follows automatically from the two-sided requirement and the vertex link requirement.
\end{rmk}

\begin{lem}

    The action of \(G\) on \(E\) is a covering space action.
    
    \begin{proof}
        Consider the product action of \(G\) on \(T_1\times T_2\times T_3\). 
        The trees \(T_1, T_2,\) and \(T_3\) are mutually transverse which tells us that the action on the vertices of a product of any two trees is free; hence free on the vertices of the product of all three trees. Acting by simplicial automorphisms with finite vertex stabilizers (in our case trivial) gives a PD action. 
        
        For a cube of any dimension, if you fix a point on it's interior then that cube is taken to itself.
        
        Being a product action rules out rotations of cubes or squares and disallowing edge inversions rules out reflections.
        
        Hence, no non-trivial element takes a cube to itself. Thus, the action is free. This implies that the product action is a covering space action.
        
        Lastly, \(E\subseteq T_1\times T_2\times T_3\) is a \(G\)-invariant subset and therefore the action of \(G\) on \(E\) is also a covering space action.
    \end{proof}
\end{lem}

This lemma ensures \(E/G\) will have the correct fundamental group and is the main reason we need that \(E\) has connected 1-dimensional fibers. 

\begin{lem}
    [Extended Core is simply connected]
    \label{lem:coresc} 
    The Extended core $E$ is simply connected.
    
    \begin{proof}
    
        % - It seems like we are trying to show E/G is a graph of spaces by leveraging E and then concluding that E is a graph of spaces.
        % - Is it just better to prove directly that E is a graph of spaces?
        % -- By claim 1 we know what the hyperplanes of E are, by claim 2 we know they are separating and so the underlying graph is a tree. The conceit is that cube complexes with two-sided hyperplanes have corridors that allow for a decomposition into a graph of spaces.
        
        % - Later we still need to show that E/G is a graph of spaces so perhaps it's impossible to separate
    
        We will show that $E$ is the total space of a graph of spaces where the edge and vertex spaces are simply connected and the underlying graph is a tree. The edge spaces are hyperplanes and the vertex spaces are the connected components of the complement of the corridors of the hyperplanes. Now, $E$ is a subset of a product so hyperplanes are embedded and two-sided and come with maps to each side of their corridor. 
        
        By Property CCP the intersection of $E$ with hyperplanes are path connected. Since hyperplanes are the intersection of fibers (e.g. $\pi_1^{-1}(p)$) with $E$ we have that they are separating. This means the underlying graph is a tree. Because $E$ has connected 1-dimensional fibers the hyperplanes also have connected 1-dimensional fibers and so are quadrant convex by Guirardel \ref{thm:guirardelsliceconvex} and so are also simply connected. Hence, $E$ is a tree of simply connected spaces and is therefore simply connected.
        
        %Our \(E\) inherits a VHD structure from the product of three trees that it sits in. 
        
        % Because the action is diagonal we also get that the quotient \(C/G\) is VHD. Our tree actions do not invert edges so hyperplanes of \(C/G\) are two-sided; indeed a given hyperplane only touches a single parallelism class of edges. 



        % The edge spaces are hyperplanes, the vertex spaces come from subtracting the corridors of hyperplanes, and the edge maps are maps from hyperplanes to vertex spaces defined by seeing where the push map homotopy takes a hyperplane. 
        
        % We need these maps to be injective on fundamental groups in $E/G$. The push map from a hyperplane to a vertex space followed by inclusion is the same up to homotopy as globally including the hyperplane into \(E/G\). We will show that the composition is injective so that the induced map from the edge space to the vertex space is injective on fundamental groups as needed. It is enough to show that lifts of hyperplanes are simply connected.
    
        % A hyperplane of $E/G$ lifts to a hyperplane of $E$ which sits inside a slice of $T_1 \times T_2\times T_3$. Since $E$ has connected 1-dimensional fibers by Guirardel the hyperplane is quadrant convex which implies simply connected.

    \end{proof}
\end{lem}


\section{Bieri dimension argument}

At this stage the construction of \(E/G\) is complete. It's a three dimensional complex that splits in three ways over 2-dimensional VH-complexes. By Wise, VH-complexes themselves come with two splittings over 1-dimensional graphs. Lastly, graphs are themselves splittings over trivial groups. Using a result of Bieri, we show this iterated splitting pushes the cohomological dimension of \(G\) higher which gives the final contradiction needed for the proof of the main theorem.

In order to use our assumptions we need to show the first iteration of splittings coming from the VHD complex \(E\) correspond exactly to the original trees.

Earlier we proved that \(E\) is a graph of spaces, essentially because it sits within a product of trees. With this setup, after identification, the Bass-Serre maps that collapse vertex spaces to points and fibers of edge space products to points are projection maps. We're acting via a product action so projection maps are equivariant maps which means the image of \(E\) under projection is invariant. Lastly, our \(G\)-trees are minimal so the Bass-Serre maps from \(E\) map onto the original trees.

Next, we restate corollaries of Bieri's results.
\begin{lem}
(See Corollary 6.5, Bieri, p87)
Let \(G=G_1\ast_H G_2\) be an amalgamated product of groups of type \(FP_\infty\) over \(R\), with \(H\) a proper subgroup of finite index in both factors. Then for \(k=1,2\) we have: \[\text{cd}_R(G)=\text{cd}_R(G_k)+1.\]
\end{lem}

\begin{lem}
(See Corollary 6.7, Bieri, p92)
Let \(G=G_1\ast_{H,\phi}\) be an HNN extension where \(G_1\) is of type \(FP_\infty\) over \(R\) with subgroups \(H\) and \(\phi(H)\) of finite index in \(G_1\). Then \[\text{cd}_R(G) = \text{cd}_R(G_1)+1.\]
\end{lem}

The following result is not proved as a direct consequence of the previous lemmas, instead Bieri is able to run the argument again to obtain a similar result for general graphs of groups. This is the version we will be applying.
\begin{thm}
    [Bieri dimension plus one]
    \label{pro:bireridimension}
    (Exercise p.93 from Bieri \cite{bieribook})
    For a non-trivial cocompact locally finite simplicial \(G\)-tree with \(FP_\infty\) vertex and edge groups we have that the dimension of \(G\) is exactly one more than the dimension of any vertex or edge group.
\end{thm}

The following lemma shows that the second step in the iterative splitting is non-trivial.

\begin{lem}
    [Iterated Splitting]
    \label{lem:iteratedsplitting} 
    Let \(T_1\) and \(T_2\) be two non-trivial locally finite \(G\)-trees in different deformation spaces. Then the vertex groups of each tree act non-trivially on the other tree.
    \begin{proof}
        Suppose \(x\) were a vertex of \(T_1\), Let \(K\) be it's stabilizer. Now \(K\) is a subgroup of \(G\) and so also acts on \(T_2\). If \(K\) had a global fixed point in \(T_2\)  then by local finiteness of \(T_1\) every vertex group of \(T_1\) would as well. Then by \ref{thm:ellipticimpliesequality} \(T_1\) and \(T_2\) are in the same deformation space; a contradiction.
    \end{proof}
\end{lem}

We will now iterate the splitting process and then apply Bieri. To begin, by assumption each of the original splittings \(T_1\), \(T_2\), and \(T_3\) is non-trivial. Now, consider the vertex groups of a given splitting. By lemma \ref{lem:iteratedsplitting} those vertex groups act non-trivially on the other two trees. Moreover, as each vertex group is the fundamental group of a VH-complex from \ref{thm:wisegraph} the vertex groups split as a graph of free groups. These last splittings are themselves splittings over trivial groups -- but are they trivial splittings? Here we need to assume that at least one sequence of iterated splittings ends in a graph with positive rank.
        
Then by the Bieri dimension theorem \ref{pro:bireridimension}, \(G\) has dimension 3, a contradiction. This completes the proof of the main theorem.



\noindent

\cleardoublepage

\phantomsection

\addcontentsline{toc}{chapter}{Bibliography}

\bibliographystyle{amsalpha}

\bibliography{paper}


\begin{thebibliography}{9}


\bibitem{levitt}
Gilbert Levitt.
\textit{Geometric group actions on trees}
American Journal of Mathematics, Volume 119, Number 1, February 1997, pp83-102

\bibitem{draftpaper}
Forester and Martino
\textit{Bounding complexity}
some journal

\bibitem{cullerandmorgan}
Culler and Morgan
\textit{Group Actions on $\mathbb{R}$-trees}
Journal, Volume, Number, Dates (???)

\bibitem{haglundss}
ISOMETRIES OF CAT(0) CUBE COMPLEXES ARE SEMI-SIMPLE

\bibitem{haglundwise}
SPECIAL CUBE COMPLEXES
Frederic Haglund and Daniel T. Wise

\bibitem{hymanbass}
Hyman Bass.
\textit{Covering theory for graphs of groups}
Journal, Volume, Number, Dates (???)

\bibitem{bieribook}
\bibitem{wisethesis}

\bibitem{wisecsc}
Wise complete square complexes

\bibitem{guirardelcorepaper}
Guirardel

\bibitem{foresterdeformationrigidity}
Forester deformation and rigidity

\bibitem{wisethesis}
Wise Thesis

\bibitem{boundingcomplexity}
Bounding the complexity of simpliciail group actions
on trees 


\bibitem{latexcompanion} 
Michel Goossens, Frank Mittelbach, and Alexander Samarin. 
\textit{The \LaTeX\ Companion}. 
Addison-Wesley, Reading, Massachusetts, 1993.

\bibitem{einstein} 
Albert Einstein. 
\textit{Zur Elektrodynamik bewegter K{\"o}rper}. (German) 
[\textit{On the electrodynamics of moving bodies}]. 
Annalen der Physik, 322(10):891–921, 1905.

\bibitem{knuthwebsite} 
Knuth: Computers and Typesetting,
\\\texttt{http://www-cs-faculty.stanford.edu/\~{}uno/abcde.html}

\end{thebibliography}

%\textsc{Mathematics Department, University of Oklahoma, Norman, OK 73019, USA}

%Email: \texttt{\href{mailto:bwstucky@ou.edu}{bwstucky@ou.edu}}

%URL: \texttt{\href{http://benstuc.ky}{http://benstuc.ky}}

\end{document}


%%% Fun facts

immersion = locally injective
for trees immersions are injective
elementary collapse moves are quasi-isometries thanks to old forester paper


        \begin{rmk}
            Properly discontinuous (here we mean the version with finitely many group elements) free actions on Hausdorff spaces are covering space actions cf: ch1 ex23 in Hatcher
        \end{rmk}
        
        
( add this defn somewhere bc it's used once: total space = raelization of graph of psaces)


===

    (Somewhere in the Niblo or related papers this should be citable (affine equi map). Also from Nir Lazaravich:
    
        As part of the proof, Dunwoody introduced two key tools: patterns and resolutions. He observed
        that any action of an almost finitely presented group, G, on a tree could be resolved to a G-tree
        obtained from a geometric pattern on the universal cover of the presentation complex of G. This
        resolution is simpler in certain aspects, e.g, the edge stabilizers are finitely generated and one
        can bound the number of parallelism classes of edges in the resolution. This result is known as
        Dunwoody’s Lemma ([4, Lemma 4.4])
        
        I don't see Lemma 4.4 in the exact publication specified but some items look to be close


    )
    
    % just make this a remark when it comes up
    \begin{pro}
    [Invariant Cell Complex]
    \label{pro:cellinvariant}
    (cell(X) = cell(gX) bc X = gX... but cell(gX) = gcell(X) by observation ergo cell(X) g invariant )
\end{pro}


=== Meeting: 31-07-2022

==== Figuring out the part where we need to get a contradiction from our axes in K tilde by morally placing them in a product.

ax1 in K~ all H .... pt in the ax ... send over to Tree x v. 

ax2 ... v x Tree

....

in CAT(0) any two orbits of points will fellow travel (really bc we are acting by isometries)


...


product BS map to X x Y
consider all H axis, pick point in K~
that aixs goes to tree x y
..... x x Tree

==== Following up

{ talk about getting two axes in K~, one composed entirely of vertical edges and the other composed entirely of horizontal edges }

From the splittings we get BS-maps from K~ -> X and K~ -> Y. Take the product and think about K~ -> X x Y a G-map. Pick a vertex in the vertical axis, it's orbit is sent to a vertical factor in X x Y. Similarly for horizontal axis. In X x Y the points are some distance a part but we are acting by isometries so the distance is constant but the images of the orbits are infinite discrete points. This violates fellow traveling.



